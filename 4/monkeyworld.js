var $JSCompiler_alias_VOID$$=void 0,$JSCompiler_alias_TRUE$$=!0,$JSCompiler_alias_NULL$$=null,$JSCompiler_alias_FALSE$$=!1;function $JSCompiler_emptyFn$$(){return function(){}}function $JSCompiler_returnArg$$($JSCompiler_returnArg_value$$){return function(){return $JSCompiler_returnArg_value$$}}
function $inherit$$($childCtor$$,$parentCtor$$){function $tempCtor$$(){}$tempCtor$$.prototype=$parentCtor$$.prototype;$childCtor$$.$superClass_$=$parentCtor$$.prototype;$childCtor$$.prototype=new $tempCtor$$}Object.size=function $Object$size$($obj$$20$$){var $size$$9$$=0,$key$$13$$;for($key$$13$$ in $obj$$20$$)$obj$$20$$.hasOwnProperty($key$$13$$)&&$size$$9$$++;return $size$$9$$};
var $Log$$=new function _Log(){function $write$$($type$$47$$,$msg$$1$$,$tag$$){$tag$$===$JSCompiler_alias_VOID$$&&($tag$$="");if("evm"!=$tag$$&&"sound"!=$tag$$){for(var $tag$$=$tag$$.substr(0,8),$tag$$=$tag$$.toUpperCase(),$num$$4$$=8-$tag$$.length,$i$$1$$=0;$i$$1$$<$num$$4$$;$i$$1$$++)$tag$$=" "+$tag$$;console.log($type$$47$$+" "+$tag$$+" "+$msg$$1$$)}}console.log("Creating Log");this.debug=function $this$debug$($msg$$2$$,$tag$$1$$){$write$$("DEBUG  ",$msg$$2$$,$tag$$1$$)};this.$notify$=function $this$$notify$$($msg$$4$$){$write$$("NOTIFY ",
$msg$$4$$,"sound")};this.error=function $this$error$($msg$$5$$,$tag$$4$$){$write$$("ERROR  ",$msg$$5$$,$tag$$4$$)}};Array.prototype.remove=function $Array$$remove$($item$$){for(var $i$$2$$=0;$i$$2$$<this.length;$i$$2$$++)this[$i$$2$$]===$item$$&&this.splice($i$$2$$)};
var $Utils$$=new function(){function $Gridizer$$($startx$$,$starty$$,$stepx$$,$stepy$$){var $gridXPos$$=0,$gridYPos$$=0;this.next=function $this$next$(){var $xp$$=$startx$$+$gridXPos$$*$stepx$$,$yp$$=$starty$$+$gridYPos$$*$stepy$$;$gridXPos$$=($gridXPos$$+1)%2;0==$gridXPos$$&&$gridYPos$$++;return{x:$xp$$,y:$yp$$}}}this.$isNumber$=function $this$$isNumber$$($n$$1$$){return!isNaN($n$$1$$-0)};this.$bezier$=function $this$$bezier$$($C1$$,$C2$$,$C3$$,$C4$$){function $coord$$(){var $x$$63$$,$y$$46$$;$x$$63$$===
$JSCompiler_alias_VOID$$&&($x$$63$$=0);$y$$46$$===$JSCompiler_alias_VOID$$&&($y$$46$$=0);return{x:$x$$63$$,y:$y$$46$$}}return function getBezier($percent$$2$$,$C1$$1$$,$C2$$1$$,$C3$$1$$,$C4$$1$$){var $pos$$=new $coord$$;$pos$$.x=$C1$$1$$.x*$percent$$2$$*$percent$$2$$*$percent$$2$$+$C2$$1$$.x*3*$percent$$2$$*$percent$$2$$*(1-$percent$$2$$)+$C3$$1$$.x*3*$percent$$2$$*(1-$percent$$2$$)*(1-$percent$$2$$)+$C4$$1$$.x*(1-$percent$$2$$)*(1-$percent$$2$$)*(1-$percent$$2$$);$pos$$.y=$C1$$1$$.y*$percent$$2$$*
$percent$$2$$*$percent$$2$$+$C2$$1$$.y*3*$percent$$2$$*$percent$$2$$*(1-$percent$$2$$)+$C3$$1$$.y*3*$percent$$2$$*(1-$percent$$2$$)*(1-$percent$$2$$)+$C4$$1$$.y*(1-$percent$$2$$)*(1-$percent$$2$$)*(1-$percent$$2$$);return $pos$$}(0.5,$C1$$,$C2$$,$C3$$,$C4$$)};this.$scaleShape$=function $this$$scaleShape$$($shape$$,$scale$$4$$){$shape$$.x!=$JSCompiler_alias_VOID$$&&($shape$$.x*=$scale$$4$$);$shape$$.y!=$JSCompiler_alias_VOID$$&&($shape$$.y*=$scale$$4$$);$shape$$.width!=$JSCompiler_alias_VOID$$&&($shape$$.width*=
$scale$$4$$);$shape$$.height!=$JSCompiler_alias_VOID$$&&($shape$$.height*=$scale$$4$$);$shape$$.fontSize!=$JSCompiler_alias_VOID$$&&($shape$$.fontSize*=$scale$$4$$);if($shape$$.scale!=$JSCompiler_alias_VOID$$&&($shape$$.scale.x!=$JSCompiler_alias_VOID$$&&($shape$$.scale.x*=$scale$$4$$),$shape$$.scale.y!=$JSCompiler_alias_VOID$$))$shape$$.scale.y*=$scale$$4$$;return $shape$$};this.$getRandomInt$=function $this$$getRandomInt$$($min$$,$max$$){return Math.floor(Math.random()*($max$$-$min$$+1))+$min$$};
this.$inArray$=function $this$$inArray$$($array$$9$$,$obj$$21$$){for(var $i$$3$$=0;$i$$3$$<$array$$9$$.length;$i$$3$$++)if($array$$9$$[$i$$3$$]===$obj$$21$$)return $JSCompiler_alias_TRUE$$;return $JSCompiler_alias_FALSE$$};this.$gridizer$=function $this$$gridizer$$($startx$$1$$,$starty$$1$$,$stepx$$1$$,$stepy$$1$$){return new $Gridizer$$($startx$$1$$,$starty$$1$$,$stepx$$1$$,$stepy$$1$$)};this.$crookedRandoms$=function $this$$crookedRandoms$$($start$$6$$,$end$$2$$,$size$$10$$,$injected$$,$appearances$$,
$exactly$$){5==arguments.length&&($exactly$$=$JSCompiler_alias_FALSE$$);for(var $array$$10$$=Array($size$$10$$),$crookedPositions$$=Array($appearances$$),$i$$4$$=0;$i$$4$$<$appearances$$;$i$$4$$++){for(var $crookedPosition$$=this.$getRandomInt$(0,$size$$10$$-1);this.$inArray$($crookedPositions$$,$crookedPosition$$);)$crookedPosition$$=this.$getRandomInt$(0,$size$$10$$-1);$crookedPositions$$.push($crookedPosition$$)}for($i$$4$$=0;$i$$4$$<$size$$10$$;$i$$4$$++)if(this.$inArray$($crookedPositions$$,
$i$$4$$))$array$$10$$[$i$$4$$]=$injected$$;else if($array$$10$$[$i$$4$$]=this.$getRandomInt$($start$$6$$,$end$$2$$),$exactly$$)for(;$array$$10$$[$i$$4$$]==$injected$$;)$array$$10$$[$i$$4$$]=this.$getRandomInt$($start$$6$$,$end$$2$$);return $array$$10$$}};
function $Animator$$(){this.$beingAnimated$=[];this.$_tick$=function $this$$_tick$$($diff$$,$node$$8$$){var $obj$$22$$=$node$$8$$.$_animator$.$values$,$done$$=$JSCompiler_alias_TRUE$$,$prop$$4$$;for($prop$$4$$ in $obj$$22$$)0<$obj$$22$$[$prop$$4$$].$timeLeft$?($obj$$22$$[$prop$$4$$].$timeLeft$-=$diff$$,$node$$8$$[$prop$$4$$]+=$obj$$22$$[$prop$$4$$].step*$diff$$,$done$$=$JSCompiler_alias_FALSE$$):$node$$8$$[$prop$$4$$]=$obj$$22$$[$prop$$4$$].to;return $done$$}}
function $JSCompiler_StaticMethods_animateTo$$($JSCompiler_StaticMethods_animateTo$self$$,$node$$10$$,$endState$$,$config$$10$$){$node$$10$$.$_animator$={};var $obj$$24$$=$node$$10$$.$_animator$;$obj$$24$$.$values$={};for(var $prop$$6$$ in $endState$$){$obj$$24$$.$values$[$prop$$6$$]={};$obj$$24$$.$values$[$prop$$6$$].to=$endState$$[$prop$$6$$];if($config$$10$$.duration!=$JSCompiler_alias_VOID$$){var $dur$$=$config$$10$$.duration;$Utils$$.$isNumber$($config$$10$$.duration)||($config$$10$$.duration[$prop$$6$$]===
$JSCompiler_alias_VOID$$&&alert("Not defined duration for "+$prop$$6$$),$dur$$=$config$$10$$.duration[$prop$$6$$]);$obj$$24$$.$values$[$prop$$6$$].duration=$dur$$;$obj$$24$$.$values$[$prop$$6$$].$useDuration$=$JSCompiler_alias_TRUE$$}else $obj$$24$$.$values$[$prop$$6$$].duration=Math.abs($endState$$[$prop$$6$$]-$node$$10$$[$prop$$6$$])/$config$$10$$.speed[$prop$$6$$],$obj$$24$$.$values$[$prop$$6$$].speed=$config$$10$$.speed[$prop$$6$$],$obj$$24$$.$values$[$prop$$6$$].$useDuration$=$JSCompiler_alias_FALSE$$;
$obj$$24$$.$values$[$prop$$6$$].step=($endState$$[$prop$$6$$]-$node$$10$$[$prop$$6$$])/$obj$$24$$.$values$[$prop$$6$$].duration;$obj$$24$$.$values$[$prop$$6$$].$timeLeft$=$obj$$24$$.$values$[$prop$$6$$].duration}$obj$$24$$.$doCallbackOnTick$=$config$$10$$.onFrame!=$JSCompiler_alias_VOID$$;$obj$$24$$.$doCallbackWhenDone$=$config$$10$$.$onFinish$!=$JSCompiler_alias_VOID$$;$obj$$24$$.$callbackOnTick$=$config$$10$$.onFrame;$obj$$24$$.$callbackWhenDone$=$config$$10$$.$onFinish$;$obj$$24$$.$lastDistance$=
Number.MAX_VALUE;$obj$$24$$.$doneCallback$=$JSCompiler_alias_FALSE$$;$JSCompiler_StaticMethods_animateTo$self$$.$beingAnimated$.push($node$$10$$)}
$Animator$$.prototype.tick=function $$Animator$$$$tick$($timeDiff$$){for(var $i$$5$$=0;$i$$5$$<this.$beingAnimated$.length;$i$$5$$++)if(this.$beingAnimated$[$i$$5$$].$_animator$.$doCallbackOnTick$&&this.$beingAnimated$[$i$$5$$].$_animator$.$callbackOnTick$(),this.$_tick$($timeDiff$$,this.$beingAnimated$[$i$$5$$])){var $node$$11$$=this.$beingAnimated$[$i$$5$$];this.$beingAnimated$.splice($i$$5$$,1);$node$$11$$.$_animator$.$doneCallback$||($node$$11$$.$_animator$.$doneCallback$=$JSCompiler_alias_TRUE$$,
$node$$11$$.$_animator$.$doCallbackWhenDone$&&$node$$11$$.$_animator$.$callbackWhenDone$())}};var $Events$TEAR_DOWN$$="tearDown",$GameMode$CHILD_PLAY$$="Child Play",$GameMode$MONKEY_SEE$$="Monkey See",$GameMode$MONKEY_DO$$="Monkey Do",$GameMode$GUARDIAN_ANGEL$$="Guardian Angel";Kinetic.$NoStage$=$JSCompiler_emptyFn$$();Kinetic.$NoStage$.getWidth=$JSCompiler_emptyFn$$();
function $MW$GlobalObject$$($tag$$5$$){this.$_tag$=$tag$$5$$;this.on=function $this$on$($type$$48$$,$fnc$$,$tag$$6$$){this.$evm$.on($type$$48$$,$fnc$$,$tag$$6$$===$JSCompiler_alias_VOID$$?this.$_tag$:$tag$$6$$)};this.off=function $this$off$($type$$49$$,$tag$$7$$){this.$evm$.off($type$$49$$,$tag$$7$$===$JSCompiler_alias_VOID$$?this.$_tag$:$tag$$7$$)};this.$forget$=function $this$$forget$$($tag$$8$$){this.$evm$.$forget$($tag$$8$$===$JSCompiler_alias_VOID$$?this.$_tag$:$tag$$8$$)};this.$tell$=function $this$$tell$$($type$$50$$,
$msg$$6$$){this.$evm$.$tell$($type$$50$$,$msg$$6$$)};this.$wevm$=function $this$$wevm$$(){console.log(this.$evm$.$wevm$())};this.$tag$=function $this$$tag$$($tag$$9$$){this.$_tag$=$tag$$9$$}}$MW$GlobalObject$$.prototype.$evm$=new $NoEventManager$$;$MW$GlobalObject$$.prototype.$stage$=new Kinetic.$NoStage$;
function $MW$MiniGameResult$$(){var $results$$=[];this.$pushResult$=function $this$$pushResult$$($roundResult$$){$results$$.push($roundResult$$)};this.$getResult$=function $this$$getResult$$($round$$){var $index$$44$$=$round$$-1;if(0>$index$$44$$||$index$$44$$>=$results$$.length)throw"MonkeyWorld.NoSuchRoundException ("+$round$$+")";return $results$$[$index$$44$$]}}
function $MW$MiniGameRoundResult$$(){var $madeMistake$$=$JSCompiler_alias_FALSE$$,$actions$$=[];this.$reportMistake$=function $this$$reportMistake$$(){console.log("reportMistake");$madeMistake$$=$JSCompiler_alias_TRUE$$};this.$madeMistake$=function $this$$madeMistake$$(){console.log("madeMistake="+$madeMistake$$);return $madeMistake$$};this.$pushAction$=function $this$$pushAction$$($action$$){$actions$$.push($action$$)};this.$popAction$=function $this$$popAction$$(){$actions$$.splice($actions$$.length-
1)};this.$getActions$=function $this$$getActions$$(){return $actions$$}}function $MW$NoMiniGameResult$$(){this.$pushResult$=function $this$$pushResult$$(){throw"MonkeyWorld.NoMiniGameResultException";};this.$getResult$=function $this$$getResult$$(){throw"MonkeyWorld.NoMiniGameResultException";}};Kinetic.$Button$=function $Kinetic$$Button$$($config$$11$$){var $button$$=new Kinetic.Group({x:$config$$11$$.x,y:$config$$11$$.y,width:$config$$11$$.width,height:$config$$11$$.height}),$_rect$$=new Kinetic.Rect({x:0,y:0,width:$config$$11$$.width,height:$config$$11$$.height,fill:"#ccc",strokeWidth:1,stroke:"white"}),$_text$$=new Kinetic.Text({text:$config$$11$$.text,fontFamily:"Arial",textFill:"black",fontSize:$config$$11$$.fontSize,x:$config$$11$$.width/2,y:$config$$11$$.height/2,verticalAlign:"middle",
align:"center"});$button$$.add($_rect$$);$button$$.add($_text$$);$button$$.on("mousedown touchstart",$config$$11$$.callback);return $button$$};var $Settings$$=new function SettingsObject(){var $settings$$={global:{language:{$_value$:"en"},monkeySeeRounds:{$_value$:1},triesBeforeGuardianAngel:{$_value$:3}},miniGames:{fishingGame:{targetNumber:{$_value$:2},numberCorrect:{$_value$:1},numberOfFish:{$_value$:7},maxNumber:{$_value$:9}},ladder:{targetNumber:{$_value$:-1}}}};this.$json$=function $this$$json$$(){return $settings$$};this.get=function $this$get$($args$$){for(var $current$$=$settings$$,$i$$6$$=0;$i$$6$$<arguments.length;$i$$6$$++)$current$$=
$current$$[arguments[$i$$6$$]];return $current$$.$_value$};this.set=function $this$set$($args$$1$$){for(var $current$$1$$=$settings$$,$i$$7$$=0;$i$$7$$<arguments.length-1;$i$$7$$++)$current$$1$$=$current$$1$$[arguments[$i$$7$$]];$current$$1$$.$_value$=arguments[arguments.length-1]};this.$setJSON$=function $this$$setJSON$$(){var $obj$$26$$=JSON.parse($.cookie("monkeyWorldSettings"));$obj$$26$$!==$JSCompiler_alias_NULL$$&&($settings$$=$obj$$26$$)};this.$set2$=function $this$$set2$$($arg$$10$$,$val$$){for(var $args$$2$$=
$arg$$10$$.split("-"),$current$$2$$=$settings$$,$i$$8$$=0;$i$$8$$<$args$$2$$.length;$i$$8$$++)$current$$2$$=$current$$2$$[$args$$2$$[$i$$8$$]];$current$$2$$.$_value$=$val$$}};
function $SettingsPanel$$(){function $_apply_object$$($object$$,$pre$$2$$){for(var $key$$16$$ in $object$$)if("object"===typeof $object$$[$key$$16$$]&&$object$$[$key$$16$$].$_value$===$JSCompiler_alias_VOID$$)$_apply_object$$($object$$[$key$$16$$],$pre$$2$$+"-"+$key$$16$$);else if($object$$[$key$$16$$].$_value$!=$JSCompiler_alias_VOID$$){var $val$$1$$=$("#"+$pre$$2$$+"-"+$key$$16$$).val();$Settings$$.$set2$($pre$$2$$+"-"+$key$$16$$,$val$$1$$)}}function $_init$$(){$("#settings-panel").append('<div id="settings-panel-content">');
$panel$$=$("#settings-panel-content");$panel$$.append("<h1>"+$Strings$get$$("SETTINGS_LABEL")+"</h1>");$panel$$.append("<form>");var $settingsJSON$$=$settings$$1$$.$json$(),$key$$15$$;for($key$$15$$ in $settingsJSON$$)$panel$$.append($_title$$($key$$15$$,2,"")),$panel$$.append($_list$$($settingsJSON$$[$key$$15$$],2,$key$$15$$));$panel$$.append("<button type=\"button\" onclick=\"window['egame']['hideSettings']()\">"+$Strings$get$$("SETTINGS_CANCEL")+"</button>");$panel$$.append("<button type=\"button\" onclick=\"window['egame']['applySettings']();window['egame']['hideSettings']()\">"+
$Strings$get$$("SETTINGS_APPLY")+"</button>");$panel$$.append("</form>");$panel$$.append("</div>")}function $_list$$($json$$,$level$$8$$,$pre$$1$$){var $html$$2$$;$html$$2$$="<ul>";for(var $key$$14$$ in $json$$)if("object"===typeof $json$$[$key$$14$$]&&$json$$[$key$$14$$].$_value$===$JSCompiler_alias_VOID$$)$html$$2$$+=$_title$$($key$$14$$,$level$$8$$+1,$pre$$1$$),$html$$2$$+=$_list$$($json$$[$key$$14$$],$level$$8$$+1,$pre$$1$$+"-"+$key$$14$$);else{$html$$2$$+="<li>";$html$$2$$+=$_title$$($key$$14$$,
$level$$8$$+1,$pre$$1$$);var $html$$inline_36$$="",$html$$inline_36$$=$html$$inline_36$$+('<input type="text" id="'+($pre$$1$$+"-"+$key$$14$$)+'" value="'+$json$$[$key$$14$$].$_value$+'" />');$html$$2$$+=$html$$inline_36$$+"</li>"}return $html$$2$$+"</ul>"}function $_title$$($lookFor_name$$61_title$$6$$,$level$$7$$,$pre$$){var $html$$1$$="",$lookFor_name$$61_title$$6$$="SETTINGS_"+(($pre$$===$JSCompiler_alias_VOID$$?"":$pre$$+"_")+$lookFor_name$$61_title$$6$$).toUpperCase().replace("-","_")+"_LABEL",
$lookFor_name$$61_title$$6$$=$Strings$get$$($lookFor_name$$61_title$$6$$);$lookFor_name$$61_title$$6$$!=$JSCompiler_alias_NULL$$&&($html$$1$$+="<h"+$level$$7$$+">"+$lookFor_name$$61_title$$6$$+"</h"+$level$$7$$+">");return $html$$1$$}var $settings$$1$$=$Settings$$,$panel$$=$("#settings-panel-content");this.apply=function $this$apply$(){var $json$$inline_38$$=$settings$$1$$.$json$(),$key$$inline_39$$;for($key$$inline_39$$ in $json$$inline_38$$)"object"===typeof $json$$inline_38$$[$key$$inline_39$$]&&
$_apply_object$$($json$$inline_38$$[$key$$inline_39$$],$key$$inline_39$$);$panel$$.remove();$_init$$()};this.show=function $this$show$(){$_init$$();$("#settings-panel").show()};this.hide=function $this$hide$(){$panel$$.remove();$("#settings-panel").hide()}};var $Strings$$={INIT_LOADING_SOUNDS:{sv:"Laddar ner ljud...",en:"Downloading sounds..."},INIT_LOADING_IMAGES:{sv:"Laddar ner bilder...",en:"Downloading images..."},RESTART:{sv:"Starta om",en:"Restart"},SETTINGS:{sv:"Inst\u00e4llningar",en:"Settings"},YAY:{sv:"Hurra!",en:"Yay!"},ARE_YOU_READY_TO_TEACH:{sv:"\u00c4r du redo att l\u00e4ra apan?",en:"Are you ready to teach monkey?"},NO_MY_TURN:{sv:"Gl\u00f6m inte att det \u00e4r MIN tur nu!",en:"Remember it\u2019s MY turn now!"},BUT_YOU_CAN_INTERRUPT:{sv:"Men du kan avbryta mig om jag g\u00f6r fel.",
en:"But you can interrupt me if I'm making a mistake."},MAYBE_THAT_WORKS:{sv:"Okej, vi testar och ser om det \u00e4r r\u00e4tt.",en:"OK, let's see if this works."},WHICH_ONE_DO_YOU_THINK_IT_IS:{sv:"Vilken tror du att det \u00e4r?",en:"Which one do you think it is?"},YES_I_THINK_THAT_ONE_IS_BETTER:{sv:"Ja, det d\u00e4r fungerar nog b\u00e4ttre!",en:"Yes, I think that one is better!"},BETTER_BECAUSE_BIGGER:{sv:"Ja, det verkar vara ett bra val, eftersom den \u00c4R st\u00f6rre!",en:"Yes, that seems to be a good choice because it IS bigger!"},
BETTER_BECAUSE_SMALLER:{sv:"Ja, det verkar vara ett bra val, eftersom den \u00c4R mindre!",en:"Yes, that seems to be a good choice because it IS smaller!"},IM_GOING_TO_PICK_THIS_ONE:{sv:"Okej, f\u00e5r se om den h\u00e4r fungerar. Hmm...",en:"Ok, let's see if this works. Hmm..."},AGENT_PLAY_TOO_LOW:{sv:"Hmm, det gick inte. Jag undrar varf\u00f6r. Jag testar en st\u00f6rre!",en:"Hmm, that didn't work. I wonder why. Let me try a bigger one!"},AGENT_PLAY_TOO_HIGH:{sv:"\u00c5h, nej! Var den f\u00f6r stor?",
en:"Oh no! Was that too big?"},FISHING_CATCH_NUMBER:{sv:"F\u00e5nga nummer %1",en:"Catch number %1"},FISHING_CATCH:{sv:"F\u00e5nga",en:"Catch"},FISHING_FREE_WRONG_ONES:{sv:"Frige fiskarna som \u00e4r fel",en:"Put back the wrong fish"},FISHING_NOT_THIS_ONE:{sv:"Inte den!",en:"Not this one!"},FISHING_THERE_ARE_MORE:{sv:"Det finns mer fiskar att f\u00e5nga. Forts\u00e4tt leta!",en:"There are more fish to catch. Keep looking!"},FISHING_ARE_YOU_SURE:{sv:"\u00c4r du s\u00e4ker?",en:"Are you sure?"},FISHING_COUNT_FISH:{sv:"R\u00e4kna fiskarna!",
en:"Count the fish!"},FISHING_COUNT_TARGET_FISH:{sv:"R\u00e4kna fiskarna med",en:"Count the fish with"},FISHING_ANGEL_CHOOSE_FISH:{sv:"Jag v\u00e4ljer den h\u00e4r fisken eftersom...",en:"I choose this fish, because it..."},FISHING_ANGEL_COUNT:{sv:"Jag v\u00e4ljer den h\u00e4r siffran eftersom...",en:"I choose this number, because..."},LADDER_LOOKS_FUN:{sv:"Det d\u00e4r s\u00e5g kul ut!",en:"That looked fun!"},LADDER_SHOW_ME:{sv:"Visa mig hur man g\u00f6r!",en:"Now show me how to do it!"},LADDER_MY_TURN:{sv:"Okej, nu ska vi se om jag klarar det h\u00e4r sj\u00e4lv!",
en:"Ok, now let's see if I can do this on my own!"},LADDER_IS_IT_RIGHT:{sv:"G\u00f6r jag r\u00e4tt eller fel?",en:"Am I doing it right or wrong?"},LADDER_IT_WAS_RIGHT:{sv:"Ja! Du fick presenten!",en:"Yeah! You got it!"},LADDER_OOPS_TOO_HIGH:{sv:"Oj, kanske tog vi i f\u00f6r mycket!",en:"Oops! Maybe we overdid it!"},LADDER_OOPS_TOO_LOW:{sv:"Hmm... Kanske var det inte tillr\u00e4ckligt!",en:"Hmm... Maybe it wasn't enough!"},LADDER_TRY_A_SMALLER_NUMBER:{sv:"Vi kan v\u00e4l testa en mindre och se vad som h\u00e4nder!",
en:"Let's try a smaller one and see what happens!"},LADDER_TRY_A_BIGGER_NUMBER:{sv:"Vad tror du? Ska vi testa en st\u00f6rre?",en:"What do you think? Shall we try a bigger one?"},LADDER_AGENT_SEE_CORRECT:{sv:"WOO! Tack f\u00f6r hj\u00e4lpen! Vilken fin present!",en:"WOO! Thank you for helping me! What a great surprise!"},LADDER_AGENT_SUGGEST_SOLUTION_1:{sv:"Kanske kan vi f\u00f6rs\u00f6ka med samma siffra p\u00e5",en:"Maybe we should match the number on"},LADDER_AGENT_SUGGEST_SOLUTION_2:{sv:"nummerplattan som vid presenten?",
en:"the number pad to the number by the gift?"},LADDER_PLEASE_HELP_ME:{sv:"Kan du hj\u00e4lpa mig att v\u00e4lja r\u00e4tt?",en:"Can you please help me find the right one?"},BUBBA_HI:{sv:"Hej! Mitt namn \u00e4r Bubba!",en:"Hi, my name is Bubba!"},BUBBA_HERE_TO_HELP:{sv:"Jag ska hj\u00e4lpa dig och apan l\u00e4ngs v\u00e4gen.",en:"I'm here to help you and monkey throughout his journey."},MONKEY_LEARNED_WELL:{sv:"Toppen! Apan l\u00e4rde sig bra!",en:"Great! Monkey learned well!"},MONKEY_DIDNT_LEARN_WELL:{sv:"\u00c5h, nej! Apan l\u00e4rde sig inte riktigt.",
en:"Oh no! Monkey didn't learn well."},LETS_SHOW_HIM_AGAIN:{sv:"Visa honom igen!",en:"Let's show him again!"},THANK_YOU_FOR_HELPING:{sv:"Tack f\u00f6r att du hj\u00e4lpte apan!",en:"Thank you for helping monkey!"},NOW_MONKEY_SHOW_YOU:{sv:"Nu visar apan dig vad den har l\u00e4rt sig!",en:"Now monkey show you what it learned!"},MONKEYS_TURN:{sv:"Apans tur!",en:"Monkey's turn!"},MONKEY_HMM:{sv:"Apan: Hmmm...",en:"Monkey: Hmm..."},FISHING_KEEP_GOING:{sv:"Forts\u00e4tt!",en:"Keep going!"},NUMBER_1:{sv:"nummer 1",
en:"number 1"},NUMBER_2:{sv:"nummer 2",en:"number 2"},NUMBER_3:{sv:"nummer 3",en:"number 3"},NUMBER_4:{sv:"nummer 4",en:"number 4"},NUMBER_5:{sv:"nummer 5",en:"number 5"},NUMBER_6:{sv:"nummer 6",en:"number 6"},NUMBER_7:{sv:"nummer 7",en:"number 7"},NUMBER_8:{sv:"nummer 8",en:"number 8"},NUMBER_9:{sv:"nummer 9",en:"number 9"},NUMBER_10:{sv:"nummer 10",en:"number 10"},SETTINGS_LABEL:{sv:"Inst\u00e4llningar",en:"Settings"},SETTINGS_APPLY:{sv:"Verkst\u00e4ll",en:"Apply"},SETTINGS_SHOW:{sv:"Visa inst\u00e4llningar",
en:"Show settings"},SETTINGS_HIDE:{sv:"G\u00f6m inst\u00e4llningar",en:"Hide settings"},SETTINGS_CANCEL:{sv:"Avbryt",en:"Cancel"},SETTINGS_GLOBAL_LABEL:{sv:"Globala",en:"Global"},SETTINGS_GLOBAL_LANGUAGE_LABEL:{sv:'Spr\u00e5k (kan vara "sv" eller "en" och kr\u00e4ver omstart)',en:'Language (can be "sv" or "en" and requires restart)'},SETTINGS_GLOBAL_MONKEYSEEROUNDS_LABEL:{sv:"Monkey See-rundor",en:"Monkey See rounds"},SETTINGS_GLOBAL_TRIESBEFOREGUARDIANANGEL_LABEL:{sv:"F\u00f6rs\u00f6k innan skydds\u00e4ngel",
en:"Tries before guardian angel"},SETTINGS_MINIGAMES_LABEL:{sv:"Minispel",en:"Mini-games"},SETTINGS_MINIGAMES_FISHINGGAME_LABEL:{sv:"Fiskespel",en:"Fishing Game"},SETTINGS_MINIGAMES_FISHINGGAME_TARGETNUMBER_LABEL:{sv:"M\u00e5lnummer",en:"Target number"},SETTINGS_MINIGAMES_FISHINGGAME_NUMBERCORRECT_LABEL:{sv:"Antal korrekta fiskar",en:"Number of correct fish"},SETTINGS_MINIGAMES_FISHINGGAME_NUMBEROFFISH_LABEL:{sv:"Antal fiskar totalt",en:"Number of fish totally"},SETTINGS_MINIGAMES_FISHINGGAME_MAXNUMBER_LABEL:{sv:"H\u00f6gsta m\u00f6jliga nummer",
en:"Maximum number on fish"},SETTINGS_MINIGAMES_LADDER_LABEL:{sv:"Stegen",en:"The Ladder"},SETTINGS_MINIGAMES_LADDER_TARGETNUMBER_LABEL:{sv:"M\u00e5lnummer",en:"Target number"}};
function $Strings$get$$($str$$8$$,$var_args$$24$$){if($Strings$$[$str$$8$$]===$JSCompiler_alias_VOID$$)return $JSCompiler_alias_NULL$$;for(var $tmp$$=$Strings$$[$str$$8$$][$Settings$$.get("global","language")],$i$$9$$=1;$i$$9$$<arguments.length;$i$$9$$++)$tmp$$=$tmp$$.replace("%"+$i$$9$$,arguments[$i$$9$$]);return $tmp$$};function $SoundEntry$$($soundFile$$,$subtitle$$,$instances$$){this.$soundFile$=$soundFile$$;this.$subtitle$=$subtitle$$;this.$instances$=$instances$$}
var $Sounds$YAY$$=new $SoundEntry$$("19446__totya__yeah",$Strings$get$$("YAY")),$Sounds$BIKE_HORN$$=new $SoundEntry$$("27882__stickinthemud__bike-horn-double-toot",$JSCompiler_alias_NULL$$),$Sounds$TADA$$=new $SoundEntry$$("60443__jobro__tada1",$JSCompiler_alias_NULL$$),$Sounds$CLICK$$=new $SoundEntry$$("406__tictacshutup__click-1-d",$JSCompiler_alias_NULL$$,4),$Sounds$NO_MY_TURN$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NO_MY_TURN")),$Sounds$BUT_YOU_CAN_INTERRUPT$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,
$Strings$get$$("BUT_YOU_CAN_INTERRUPT")),$Sounds$IM_GOING_TO_PICK_THIS_ONE$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("IM_GOING_TO_PICK_THIS_ONE")),$Sounds$YES_I_THINK_THAT_ONE_IS_BETTER$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("YES_I_THINK_THAT_ONE_IS_BETTER")),$Sounds$MAYBE_THAT_WORKS$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("MAYBE_THAT_WORKS")),$Sounds$WHICH_ONE_DO_YOU_THINK_IT_IS$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("WHICH_ONE_DO_YOU_THINK_IT_IS")),
$Sounds$BETTER_BECAUSE_BIGGER$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("BETTER_BECAUSE_BIGGER")),$Sounds$BETTER_BECAUSE_SMALLER$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("BETTER_BECAUSE_SMALLER")),$Sounds$AGENT_PLAY_TOO_LOW$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("AGENT_PLAY_TOO_LOW")),$Sounds$AGENT_PLAY_TOO_HIGH$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("AGENT_PLAY_TOO_HIGH")),$Sounds$MONKEY_HMM$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,
$Strings$get$$("MONKEY_HMM")),$Sounds$MAGIC_CHIMES$$=new $SoundEntry$$("51710__bristolstories__u-chimes3_short",$JSCompiler_alias_NULL$$),$Sounds$LADDER_LOOKS_FUN$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_LOOKS_FUN")),$Sounds$LADDER_SHOW_ME$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_SHOW_ME")),$Sounds$LADDER_MY_TURN$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_MY_TURN")),$Sounds$LADDER_IS_IT_RIGHT$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,
$Strings$get$$("LADDER_IS_IT_RIGHT")),$Sounds$LADDER_IT_WAS_RIGHT$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_IT_WAS_RIGHT")),$Sounds$LADDER_OOPS_TOO_HIGH$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_OOPS_TOO_HIGH")),$Sounds$LADDER_OOPS_TOO_LOW$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_OOPS_TOO_LOW")),$Sounds$LADDER_TRY_A_SMALLER_NUMBER$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_TRY_A_SMALLER_NUMBER")),
$Sounds$LADDER_TRY_A_BIGGER_NUMBER$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_TRY_A_BIGGER_NUMBER")),$Sounds$LADDER_AGENT_SEE_CORRECT$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_AGENT_SEE_CORRECT")),$Sounds$LADDER_PLEASE_HELP_ME$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_PLEASE_HELP_ME")),$Sounds$LADDER_AGENT_HELP_IN_INTERRUPT$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_AGENT_HELP_IN_INTERRUPT")),$Sounds$LADDER_AGENT_SUGGEST_SOLUTION_1$$=
new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_AGENT_SUGGEST_SOLUTION_1")),$Sounds$LADDER_AGENT_SUGGEST_SOLUTION_2$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LADDER_AGENT_SUGGEST_SOLUTION_2")),$Sounds$NUMBER_1$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NUMBER_1")),$Sounds$NUMBER_2$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NUMBER_2")),$Sounds$NUMBER_3$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NUMBER_3")),$Sounds$NUMBER_4$$=
new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NUMBER_4")),$Sounds$NUMBER_5$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NUMBER_5")),$Sounds$NUMBER_6$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NUMBER_6")),$Sounds$NUMBER_7$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NUMBER_7")),$Sounds$NUMBER_8$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NUMBER_8")),$Sounds$NUMBER_9$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NUMBER_9")),
$Sounds$NUMBER_10$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NUMBER_10")),$Sounds$ARE_YOU_READY_TO_TEACH$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("ARE_YOU_READY_TO_TEACH")),$Sounds$GET_BANANA$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$JSCompiler_alias_NULL$$,2),$Sounds$FISHING_FREE_WRONG_ONES$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("FISHING_FREE_WRONG_ONES")),$Sounds$FISHING_CATCH$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("FISHING_CATCH")),
$Sounds$FISHING_NOT_THIS_ONE$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("FISHING_NOT_THIS_ONE")),$Sounds$FISHING_THERE_ARE_MORE$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("FISHING_THERE_ARE_MORE")),$Sounds$FISHING_KEEP_GOING$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("FISHING_KEEP_GOING")),$Sounds$FISHING_ARE_YOU_SURE$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("FISHING_ARE_YOU_SURE")),$Sounds$FISHING_COUNT_FISH$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,
$Strings$get$$("FISHING_COUNT_FISH")),$Sounds$FISHING_COUNT_TARGET_FISH$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("FISHING_COUNT_TARGET_FISH")),$Sounds$FISHING_WINDING$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$JSCompiler_alias_NULL$$),$Sounds$FISHING_SPLASH$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$JSCompiler_alias_NULL$$),$Sounds$FISHING_SWOSH$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$JSCompiler_alias_NULL$$),$Sounds$FISHING_ANGEL_CHOOSE_FISH$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,
$Strings$get$$("FISHING_ANGEL_CHOOSE_FISH")),$Sounds$FISHING_ANGEL_COUNT$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("FISHING_ANGEL_COUNT")),$Sounds$BUBBA_HI$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("BUBBA_HI")),$Sounds$BUBBA_HERE_TO_HELP$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("BUBBA_HERE_TO_HELP")),$Sounds$MONKEY_LEARNED_WELL$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("MONKEY_LEARNED_WELL")),$Sounds$MONKEY_DIDNT_LEARN_WELL$$=
new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("MONKEY_DIDNT_LEARN_WELL")),$Sounds$LETS_SHOW_HIM_AGAIN$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("LETS_SHOW_HIM_AGAIN")),$Sounds$THANK_YOU_FOR_HELPING$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("THANK_YOU_FOR_HELPING")),$Sounds$NOW_MONKEY_SHOW_YOU$$=new $SoundEntry$$($JSCompiler_alias_NULL$$,$Strings$get$$("NOW_MONKEY_SHOW_YOU")),$Sounds$$={$YAY$:$Sounds$YAY$$,$BIKE_HORN$:$Sounds$BIKE_HORN$$,$TADA$:$Sounds$TADA$$,
$CLICK$:$Sounds$CLICK$$,$NO_MY_TURN$:$Sounds$NO_MY_TURN$$,$BUT_YOU_CAN_INTERRUPT$:$Sounds$BUT_YOU_CAN_INTERRUPT$$,$IM_GOING_TO_PICK_THIS_ONE$:$Sounds$IM_GOING_TO_PICK_THIS_ONE$$,$YES_I_THINK_THAT_ONE_IS_BETTER$:$Sounds$YES_I_THINK_THAT_ONE_IS_BETTER$$,$MAYBE_THAT_WORKS$:$Sounds$MAYBE_THAT_WORKS$$,$WHICH_ONE_DO_YOU_THINK_IT_IS$:$Sounds$WHICH_ONE_DO_YOU_THINK_IT_IS$$,$BETTER_BECAUSE_BIGGER$:$Sounds$BETTER_BECAUSE_BIGGER$$,$BETTER_BECAUSE_SMALLER$:$Sounds$BETTER_BECAUSE_SMALLER$$,$AGENT_PLAY_TOO_LOW$:$Sounds$AGENT_PLAY_TOO_LOW$$,
$AGENT_PLAY_TOO_HIGH$:$Sounds$AGENT_PLAY_TOO_HIGH$$,$MONKEY_HMM$:$Sounds$MONKEY_HMM$$,$MAGIC_CHIMES$:$Sounds$MAGIC_CHIMES$$,$LADDER_LOOKS_FUN$:$Sounds$LADDER_LOOKS_FUN$$,$LADDER_SHOW_ME$:$Sounds$LADDER_SHOW_ME$$,$LADDER_MY_TURN$:$Sounds$LADDER_MY_TURN$$,$LADDER_IS_IT_RIGHT$:$Sounds$LADDER_IS_IT_RIGHT$$,$LADDER_IT_WAS_RIGHT$:$Sounds$LADDER_IT_WAS_RIGHT$$,$LADDER_OOPS_TOO_HIGH$:$Sounds$LADDER_OOPS_TOO_HIGH$$,$LADDER_OOPS_TOO_LOW$:$Sounds$LADDER_OOPS_TOO_LOW$$,$LADDER_TRY_A_SMALLER_NUMBER$:$Sounds$LADDER_TRY_A_SMALLER_NUMBER$$,
$LADDER_TRY_A_BIGGER_NUMBER$:$Sounds$LADDER_TRY_A_BIGGER_NUMBER$$,$LADDER_AGENT_SEE_CORRECT$:$Sounds$LADDER_AGENT_SEE_CORRECT$$,$LADDER_PLEASE_HELP_ME$:$Sounds$LADDER_PLEASE_HELP_ME$$,$LADDER_AGENT_HELP_IN_INTERRUPT$:$Sounds$LADDER_AGENT_HELP_IN_INTERRUPT$$,$LADDER_AGENT_SUGGEST_SOLUTION_1$:$Sounds$LADDER_AGENT_SUGGEST_SOLUTION_1$$,$LADDER_AGENT_SUGGEST_SOLUTION_2$:$Sounds$LADDER_AGENT_SUGGEST_SOLUTION_2$$,NUMBER_1:$Sounds$NUMBER_1$$,NUMBER_2:$Sounds$NUMBER_2$$,NUMBER_3:$Sounds$NUMBER_3$$,NUMBER_4:$Sounds$NUMBER_4$$,
NUMBER_5:$Sounds$NUMBER_5$$,NUMBER_6:$Sounds$NUMBER_6$$,NUMBER_7:$Sounds$NUMBER_7$$,NUMBER_8:$Sounds$NUMBER_8$$,NUMBER_9:$Sounds$NUMBER_9$$,NUMBER_10:$Sounds$NUMBER_10$$,$ARE_YOU_READY_TO_TEACH$:$Sounds$ARE_YOU_READY_TO_TEACH$$,$GET_BANANA$:$Sounds$GET_BANANA$$,$FISHING_FREE_WRONG_ONES$:$Sounds$FISHING_FREE_WRONG_ONES$$,$FISHING_CATCH$:$Sounds$FISHING_CATCH$$,$FISHING_NOT_THIS_ONE$:$Sounds$FISHING_NOT_THIS_ONE$$,$FISHING_THERE_ARE_MORE$:$Sounds$FISHING_THERE_ARE_MORE$$,$FISHING_KEEP_GOING$:$Sounds$FISHING_KEEP_GOING$$,
$FISHING_ARE_YOU_SURE$:$Sounds$FISHING_ARE_YOU_SURE$$,$FISHING_COUNT_FISH$:$Sounds$FISHING_COUNT_FISH$$,$FISHING_COUNT_TARGET_FISH$:$Sounds$FISHING_COUNT_TARGET_FISH$$,$FISHING_WINDING$:$Sounds$FISHING_WINDING$$,$FISHING_SPLASH$:$Sounds$FISHING_SPLASH$$,$FISHING_SWOSH$:$Sounds$FISHING_SWOSH$$,$FISHING_ANGEL_CHOOSE_FISH$:$Sounds$FISHING_ANGEL_CHOOSE_FISH$$,$FISHING_ANGEL_COUNT$:$Sounds$FISHING_ANGEL_COUNT$$,$BUBBA_HI$:$Sounds$BUBBA_HI$$,$BUBBA_HERE_TO_HELP$:$Sounds$BUBBA_HERE_TO_HELP$$,$MONKEY_LEARNED_WELL$:$Sounds$MONKEY_LEARNED_WELL$$,
$MONKEY_DIDNT_LEARN_WELL$:$Sounds$MONKEY_DIDNT_LEARN_WELL$$,$LETS_SHOW_HIM_AGAIN$:$Sounds$LETS_SHOW_HIM_AGAIN$$,$THANK_YOU_FOR_HELPING$:$Sounds$THANK_YOU_FOR_HELPING$$,$NOW_MONKEY_SHOW_YOU$:$Sounds$NOW_MONKEY_SHOW_YOU$$},$soundSources$$=$JSCompiler_alias_NULL$$,$soundSources$$=[],$key$$inline_41$$;
for($key$$inline_41$$ in $Sounds$$){var $entry$$inline_42$$=$Sounds$$[$key$$inline_41$$];$Sounds$$[$key$$inline_41$$].$_key$=$key$$inline_41$$;if($entry$$inline_42$$.$soundFile$!=$JSCompiler_alias_NULL$$){var $e$$inline_43$$={id:$key$$inline_41$$,src:"../res/sound/"+$entry$$inline_42$$.$soundFile$+".ogg|../res/sound/"+$entry$$inline_42$$.$soundFile$+".mp3"};$entry$$inline_42$$.$instances$!=$JSCompiler_alias_VOID$$&&($e$$inline_43$$.data=$entry$$inline_42$$.$instances$);$soundSources$$.push($e$$inline_43$$)}}
var $Sound$$=new function _Sound(){function $addSubtitle$$($text$$13$$){for(var $i$$10$$=0;$i$$10$$<$subtitles$$.length;$i$$10$$++)$subtitles$$[$i$$10$$].attrs.y-=30;$subtitles$$.push($text$$13$$)}var $stage$$=$JSCompiler_alias_NULL$$,$subtitleLayer$$=$JSCompiler_alias_NULL$$,$subtitles$$=[];this.$setStage$=function $this$$setStage$$($s$$2$$){$stage$$=$s$$2$$;$subtitleLayer$$=$stage$$.$_subtitleLayer$};this.play=function $this$play$($entry$$1$$){$Log$$.$notify$('"'+$entry$$1$$.$subtitle$+'"');$entry$$1$$.$soundFile$!=
$JSCompiler_alias_NULL$$&&SoundJS.play($entry$$1$$.$_key$);var $str$$9$$=$Strings$get$$($entry$$1$$.$_key$);$str$$9$$!=$JSCompiler_alias_NULL$$&&($entry$$1$$.$subtitle$=$str$$9$$);if($entry$$1$$.$subtitle$!=$JSCompiler_alias_NULL$$){var $text$$15$$=new Kinetic.Text({x:$subtitleLayer$$.getParent().attrs.width/2,y:$subtitleLayer$$.getParent().attrs.height-50,text:$entry$$1$$.$subtitle$,fontSize:26,fontFamily:"Arial",textFill:"white",fill:"gray",textStroke:"black",align:"center",verticalAlign:"middle",
textStrokeWidth:1});$addSubtitle$$($text$$15$$);$subtitleLayer$$.add($text$$15$$);$stage$$.$pleaseDrawOverlayLayer$();setTimeout(function(){$subtitleLayer$$.remove($text$$15$$);$stage$$.$pleaseDrawOverlayLayer$();for(var $i$$inline_46$$=0;$i$$inline_46$$<$subtitles$$.length;$i$$inline_46$$++)$subtitles$$[$i$$inline_46$$]===$text$$15$$&&$subtitles$$.splice($i$$inline_46$$,1)},3E3)}};this.stop=function $this$stop$($entry$$2$$){SoundJS.stop($entry$$2$$.$_key$)}};var $IMAGE_SOURCES$$={monkey:"monkey.png",balloons:"balloons.png",eyeball:"BeOS_Eyeball.png","symbol-stop":"Symbol-Stop.png","symbol-check":"Symbol-Check.png",birdnest:"Birds-Nest-psd47561.png",junglebg:"Jungle_Bkg2.png",elephant:"elephant.png",lion:"lion.png",giraff:"giraff.png"},$images$$={},$_img_total$$=0,$_img_progress$$=0,$src$$;for($src$$ in $IMAGE_SOURCES$$)$_img_total$$++;
function $loadImages$$($callback$$35$$){$Log$$.debug("Loading images...","images");var $loadedImages$$=0,$numImages$$=Object.size($IMAGE_SOURCES$$),$src$$2$$;for($src$$2$$ in $IMAGE_SOURCES$$)$images$$[$src$$2$$]=new Image,$images$$[$src$$2$$].onload=function $$images$$$$src$$2$$$onload$(){++$loadedImages$$>=$numImages$$&&$callback$$35$$();$_img_progress$$=$loadedImages$$/$_img_total$$},$images$$[$src$$2$$].src="../res/img/"+$IMAGE_SOURCES$$[$src$$2$$]};function $GameState$$(){var $maxSeeRounds$$=1,$maxDoRounds$$=$maxSeeRounds$$,$mode$$8$$=$GameMode$MONKEY_SEE$$,$results$$1$$=[],$_madeMistake$$=$JSCompiler_alias_FALSE$$;this.$useSettings$=function $this$$useSettings$$(){$maxDoRounds$$=$maxSeeRounds$$=$Settings$$.get("global","monkeySeeRounds");$Settings$$.get("global","triesBeforeGuardianAngel")};this.$useSettings$();this.$lastDoRound$=function $this$$lastDoRound$$(){return 1===$maxDoRounds$$};this.$pushResult$=function $this$$pushResult$$($result$$){$results$$1$$.push($result$$)};
this.$setMode$=function $this$$setMode$$($imode$$){$mode$$8$$=$imode$$};this.$getMode$=function $this$$getMode$$(){return $mode$$8$$};this.$reportMistake$=function $this$$reportMistake$$(){$_madeMistake$$=$JSCompiler_alias_TRUE$$};this.$madeMistake$=function $this$$madeMistake$$(){return $_madeMistake$$}};function $Player$$(){}$Player$$.prototype=new $MW$GlobalObject$$("Player");$Player$$.prototype.$strategies$=$JSCompiler_emptyFn$$();function $Module$$(){$MW$GlobalObject$$.call(this,"Module");var $module$$=this,$timeoutController$$=new function TimeoutController(){var $timeouts$$=[];this.setTimeout=function $this$setTimeout$($fnc$$1$$,$time$$){var $handler$$6$$=setTimeout($fnc$$1$$,$time$$);$timeouts$$.push($handler$$6$$);return $handler$$6$$};this.setInterval=function $this$setInterval$($fnc$$2$$,$time$$1$$){var $handler$$7$$=setTimeout($fnc$$2$$,$time$$1$$);$timeouts$$.push($handler$$7$$);return $handler$$7$$};this.clearTimeout=
function $this$clearTimeout$($id$$2$$){$timeouts$$.remove($id$$2$$);clearTimeout($id$$2$$)};this.$teardown$=function $this$$teardown$$(){for(var $i$$12$$=0;$i$$12$$<$timeouts$$.length;$i$$12$$++)clearTimeout($timeouts$$[$i$$12$$]);delete $timeouts$$;$timeouts$$=[]}};this.$tearDown$=function $this$$tearDown$$(){$Log$$.debug("Tearing down","Module");$timeoutController$$.$teardown$();$module$$.$tell$($Events$TEAR_DOWN$$)};this.setTimeout=function $this$setTimeout$($fnc$$3$$,$time$$2$$){return $timeoutController$$.setTimeout($fnc$$3$$,
$time$$2$$)};this.setInterval=function $this$setInterval$($fnc$$4$$,$time$$3$$){return $timeoutController$$.setInterval($fnc$$4$$,$time$$3$$)};this.clearTimeout=function $this$clearTimeout$($id$$3$$){$timeoutController$$.clearTimeout($id$$3$$)}}$inherit$$($Module$$,$MW$GlobalObject$$);function $MiniGame$$(){$Module$$.call(this);var $that$$=this,$roundResult$$1$$=$JSCompiler_alias_NULL$$,$_strategy$$=$JSCompiler_alias_NULL$$;this.$addAction$=function $this$$addAction$$($action$$1$$){$roundResult$$1$$.$pushAction$($action$$1$$)};this.$popAction$=function $this$$popAction$$(){$roundResult$$1$$.$popAction$()};this.$reportMistake$=function $this$$reportMistake$$(){$roundResult$$1$$.$reportMistake$()};this.$madeMistake$=function $this$$madeMistake$$(){return $roundResult$$1$$.$madeMistake$()};
this.$getResult$=function $this$$getResult$$(){return $roundResult$$1$$};this.$roundDone$=function $this$$roundDone$$(){$Log$$.debug("Round done","game");this.$tell$("Game.roundDone");this.$tell$("Game.nextRound");this.$game$.$miniGameDone$()};this.play=function $this$play$($player$$,$res$$){$roundResult$$1$$=new $MW$MiniGameRoundResult$$;console.log(this.$_tag$);$_strategy$$=new $player$$.$strategies$[this.$_tag$](this,$res$$)};var $_agentIsInterrupted$$=$JSCompiler_alias_FALSE$$,$_agentIsBeingHelped$$=
$JSCompiler_alias_FALSE$$;this.$interruptAgent$=function $this$$interruptAgent$$(){$_agentIsInterrupted$$=$JSCompiler_alias_TRUE$$;$_strategy$$.$interrupt$();$that$$.$game$.$setGamerAsPlayer$()};this.$resumeAgent$=function $this$$resumeAgent$$(){$_agentIsInterrupted$$=$JSCompiler_alias_FALSE$$;$that$$.$game$.$setAgentAsPlayer$();$_strategy$$.$resume$()};this.$agentIsInterrupted$=function $this$$agentIsInterrupted$$(){return $_agentIsInterrupted$$};this.$helpAgent$=function $this$$helpAgent$$(){$_agentIsBeingHelped$$=
$JSCompiler_alias_TRUE$$;$that$$.$game$.$setGamerAsPlayer$()};this.$helpedAgent$=function $this$$helpedAgent$$(){$_agentIsBeingHelped$$=$JSCompiler_alias_FALSE$$;$that$$.$game$.$setAgentAsPlayer$()};this.$agentIsBeingHelped$=function $this$$agentIsBeingHelped$$(){return $_agentIsBeingHelped$$};this.stop=function $this$stop$(){this.$tell$("Game.roundDone")};this.start=$JSCompiler_emptyFn$$()}$inherit$$($MiniGame$$,$Module$$);$MiniGame$$.prototype.onFrame=$JSCompiler_emptyFn$$();
function $NoMiniGame$$(){this.play=function $this$play$(){throw"No implemented mini game";}}$NoMiniGame$$.prototype=new $MiniGame$$;function $MonkeyPlayer$$(){$Log$$.debug("Creating MonkeyPlayer","player");var $that$$1$$=this;this.$strategies$=$JSCompiler_emptyFn$$();this.$strategies$.Ladder=function $this$$strategies$$Ladder$($game$$1$$,$result$$1$$){function $play$$($resultPosition$$1$$){$interrupted$$||(console.log($result$$1$$),console.log($resultPosition$$1$$),$tries$$++,setTimeout(function(){console.log("Picking!");$resultPosition$$1$$===$intentionalMistakePosition$$||"incorrect"===$result$$1$$[$resultPosition$$1$$]?(console.log("Incorrect Number: "+
$game$$1$$.$getIncorrectNumber$()),$game$$1$$.$pick$($game$$1$$.$getIncorrectNumber$())):(console.log("Target Number: "+$game$$1$$.$getTargetNumber$()),$game$$1$$.$pick$($game$$1$$.$getTargetNumber$()))},2E3))}$Log$$.debug("Applying MonkeyPlayer's strategy to the Ladder","player");var $resultPosition$$=0,$interrupted$$=$JSCompiler_alias_FALSE$$,$intentionalMistakePosition$$=$Utils$$.$getRandomInt$(0,$result$$1$$.length-1);console.log("Intentional: "+$intentionalMistakePosition$$);var $tries$$=0;$that$$1$$.on("Ladder.readyToPick",
function(){$play$$($resultPosition$$++)});$that$$1$$.on("Ladder.incorrect",function(){$game$$1$$.$agentIsInterrupted$()||(4>$tries$$?$play$$($resultPosition$$++):4===$tries$$&&!$game$$1$$.$agentIsBeingHelped$()&&($Sound$$.play($Sounds$LADDER_PLEASE_HELP_ME$$),$game$$1$$.$helpAgent$()))});$that$$1$$.on("Ladder.correct",function(){$tries$$=0});this.$interrupt$=function $this$$interrupt$$(){$Log$$.debug("Interrupting agent","agent");$interrupted$$=$JSCompiler_alias_TRUE$$;$tries$$=0};this.$resume$=function $this$$resume$$(){$Log$$.debug("Resuming agent",
"agent");$interrupted$$=$JSCompiler_alias_FALSE$$};$that$$1$$.on("Ladder.hasTreat",function(){setTimeout(function(){$game$$1$$.$openTreat$()},1500)});$that$$1$$.on("Game.stopMiniGame",function(){$that$$1$$.$forget$()})};this.$strategies$.FishingGame=function $this$$strategies$$FishingGame$($game$$2$$,$result$$2$$){function $handleCountingResults$$(){setTimeout(function(){$Sound$$.play($Sounds$MONKEY_HMM$$);setTimeout(function(){var $guess$$=$result$$2$$[$resultPosition$$2$$++];$game$$2$$.$countFish$($guess$$);
$resultPosition$$2$$<$result$$2$$.length&&$handleCountingResults$$()},2E3)},1E3)}function $handleResults$$(){var $happening$$=$result$$2$$[$resultPosition$$2$$++];$resultPosition$$2$$<=$result$$2$$.length&&"FishingGame.catchingDone"!=$happening$$&&this.setTimeout(function(){"correct"==$happening$$?$game$$2$$.$catchFish$($game$$2$$.$getOneCorrectFish$(),function(){$handleResults$$()}):"incorrect"==$happening$$?$game$$2$$.$catchFish$($game$$2$$.$getOneIncorrectFish$(),function(){$handleResults$$()}):
"freeIncorrect"==$happening$$?$game$$2$$.$freeFish$($game$$2$$.$getOneIncorrectlyCapturedFish$(),function(){$handleResults$$()}):"freeCorrect"==$happening$$?$game$$2$$.$freeFish$($game$$2$$.$getOneCorrectlyCapturedFish$(),function(){$handleResults$$()}):$Log$$.error("Error when handling happenings (no such happening: "+$happening$$+")","monkey")},2E3)}$Log$$.debug("Applying MonkeyPlayer's strategy to the FishingGame","player");var $resultPosition$$2$$=0;$that$$1$$.on("Game.start",function(){$game$$2$$.$turnOffClicks$();
$game$$2$$.$turnOffInactivityTimer$()});$that$$1$$.on("FishingGame.started",function(){$handleResults$$()});$that$$1$$.on("FishingGame.countingStarted",function(){$handleCountingResults$$()});$that$$1$$.on("Game.tearDown",function(){$that$$1$$.$forget$()})}}$MonkeyPlayer$$.prototype=new $Player$$;function $AngelPlayer$$(){this.$tag$("AngelPlayer");var $that$$2$$=this;$Log$$.debug("Creating AngelPlayer","player");this.$strategies$=$JSCompiler_emptyFn$$();this.$strategies$.Ladder=$JSCompiler_emptyFn$$();this.$strategies$.FishingGame=function $this$$strategies$$FishingGame$($game$$4$$){function $catchFish$$(){$catched$$<$game$$4$$.$getNumberOfCorrectFish$()&&($Sound$$.play($Sounds$FISHING_ANGEL_CHOOSE_FISH$$),setTimeout(function(){$catched$$++;$game$$4$$.$catchFish$($game$$4$$.$getOneCorrectFish$(),
function(){$catchFish$$()})},1E3))}function $count$$6$$(){setTimeout(function(){$Sound$$.play($Sounds$FISHING_ANGEL_COUNT$$);setTimeout(function(){$game$$4$$.$countFish$($game$$4$$.$getNumberOfCorrectFish$())},1E3)},2E3)}var $catched$$=0;$Log$$.debug("Applying AngelPlayer's strategy to the FishingGame","player");$that$$2$$.on("Game.start",function(){$catched$$=0;$game$$4$$.$turnOffClicks$();$game$$4$$.$turnOffInactivityTimer$()});$that$$2$$.on("FishingGame.started",function(){setTimeout(function(){$catchFish$$()},
2E3)});$that$$2$$.on("FishingGame.countingStarted",function(){$count$$6$$()});$that$$2$$.on("Game.tearDown",function(){$that$$2$$.$forget$()})}}$AngelPlayer$$.prototype=new $Player$$;function $GamerPlayer$$(){this.$tag$("GamerPlayer");var $that$$3$$=this;$Log$$.debug("Creating GamerPlayer","player");this.$strategies$=$JSCompiler_emptyFn$$();this.$strategies$.Ladder=$JSCompiler_emptyFn$$();this.$strategies$.FishingGame=function $this$$strategies$$FishingGame$(){$Log$$.debug("Applying GamerPlayer's strategy to the FishingGame","player");$that$$3$$.on("fishinggame.started",function(){$Log$$.debug("Starting to think","player");$that$$3$$.$tell$("fishinggame.allowClicks")});$that$$3$$.on("Game.tearDown",
function(){$that$$3$$.$forget$()})}}$GamerPlayer$$.prototype=new $Player$$;function $ViewModule$$(){$Log$$.debug("Creating ViewModule","object");$Module$$.call(this);var $that$$4$$=this,$tweenController$$=new function TweenController(){var $tweens$$=[];this.$getTween$=function $this$$getTween$$($target$$40$$){$Utils$$.$inArray$($tweens$$,$target$$40$$)||$tweens$$.push($target$$40$$);return Tween.get($target$$40$$)};this.removeTweens=function $this$removeTweens$($target$$41$$){Tween.removeTweens($target$$41$$)};this.$teardown$=function $this$$teardown$$(){for(var $i$$13$$=
0;$i$$13$$<$tweens$$.length;$i$$13$$++)Tween.removeTweens($tweens$$[$i$$13$$])}};this.$setup$=function $this$$setup$$(){this.on("Game.stopMiniGame",function(){$that$$4$$.$forget$();$that$$4$$.$tearDown$!=$JSCompiler_alias_VOID$$&&$that$$4$$.$tearDown$()})};this.$getTween$=function $this$$getTween$$($target$$42$$){return $tweenController$$.$getTween$($target$$42$$)};this.$removeTween$=function $this$$removeTween$$($target$$43$$){$tweenController$$.removeTweens($target$$43$$)};var $_oldTearDown$$=this.$tearDown$;
this.$tearDown$=function $this$$tearDown$$(){$Log$$.debug("Tearing down","ViewModule");$bigText$$.hide();$_oldTearDown$$();$tweenController$$.$teardown$()};var $bigText$$=function(){var $bigShowing$$=$JSCompiler_alias_NULL$$;return{hide:function(){$bigShowing$$!=$JSCompiler_alias_NULL$$&&($bigShowing$$.setText(""),$that$$4$$.$stage$.$pleaseDrawOverlayLayer$())},show:function($text$$16$$){$bigShowing$$!=$JSCompiler_alias_NULL$$?($bigShowing$$.moveTo($that$$4$$.$stage$.$_gameLayer$),$that$$4$$.$stage$.$pleaseDrawOverlayLayer$(),
$bigShowing$$.setText($text$$16$$),$bigShowing$$.setPosition($that$$4$$.$stage$.attrs.width/2,150*$that$$4$$.$stage$.$_mwunit$)):($bigShowing$$=new Kinetic.Text({x:$that$$4$$.$stage$.attrs.width/2,y:150,text:$text$$16$$,fontSize:26,fontFamily:"Short Stack",textFill:"white",textStroke:"black",align:"center",verticalAlign:"middle",scale:{x:0.001,y:0.001},textStrokeWidth:1}),$Utils$$.$scaleShape$($bigShowing$$,$that$$4$$.$stage$.$_mwunit$));$that$$4$$.$stage$.$_gameLayer$.add($bigShowing$$);Tween.get($bigShowing$$.attrs.scale).to($Utils$$.$scaleShape$({x:2,
y:2},$that$$4$$.$stage$.$_mwunit$),1E3).wait(3E3).call(function(){Tween.get($bigShowing$$.attrs.scale).to($Utils$$.$scaleShape$({x:1,y:1},$that$$4$$.$stage$.$_mwunit$),1E3).call($JSCompiler_emptyFn$$());Tween.get($bigShowing$$.attrs).to({y:50*$that$$4$$.$stage$.$_mwunit$},1E3).call(function(){$bigShowing$$.moveTo($that$$4$$.$stage$.$_overlayLayer$);$that$$4$$.$stage$.$pleaseDrawOverlayLayer$()})})}}}();this.$showBig$=function $this$$showBig$$($text$$17$$){$bigText$$.show($text$$17$$)};this.getStage=
function $this$getStage$(){return this.$stage$}}$inherit$$($ViewModule$$,$Module$$);$ViewModule$$.prototype.$stage$=$JSCompiler_alias_NULL$$;function $MW$Game$$($useViews$$,$startGame$$){function $startMiniGame$$(){$that$$5$$.$evm$.print();$miniGame$$=$startGame$$===$JSCompiler_alias_VOID$$?new $FishingGame$$:new $startGame$$;$useViews$$&&($miniGame$$ instanceof $FishingGame$$?($FishingView$$.prototype.$agentImage$=$GameView$$.prototype.$agentImage$,(new $FishingView$$($miniGame$$)).$setup$()):$miniGame$$ instanceof $Ladder$$&&($LadderView$$.prototype.$agentImage$=$GameView$$.prototype.$agentImage$,(new $LadderView$$($miniGame$$)).$setup$()),
$that$$5$$.$tell$("Game.miniGameListenersInitiated"));$that$$5$$.$tell$("Game.initiate");$gameMode$$===$GameMode$MONKEY_DO$$?$miniGame$$.play($player$$1$$,$result$$3$$.$getResult$($_round$$).$getActions$()):$miniGame$$.play($player$$1$$);$miniGame$$.start();$that$$5$$.$tell$("Game.start")}function $setRound$$($round$$1$$){if($round$$1$$>$Settings$$.get("global","monkeySeeRounds")&&($gameMode$$===$GameMode$MONKEY_SEE$$||$gameMode$$===$GameMode$MONKEY_DO$$))throw"MonkeyWorld.MiniGameRoundOverMaxLimit";
if(1>$round$$1$$)throw"MonkeyWorld.MiniGameRoundUnderMinLimit";$_round$$=$round$$1$$}var $that$$5$$=this,$NO_MINI_GAME$$=new $NoMiniGame$$,$NO_RESULT$$=new $MW$NoMiniGameResult$$,$GAMER$$=new $GamerPlayer$$,$AGENT$$=new $MonkeyPlayer$$;new $AngelPlayer$$;var $gameMode$$=$GameMode$CHILD_PLAY$$,$miniGame$$=$NO_MINI_GAME$$,$player$$1$$=$GAMER$$,$_round$$=1,$mistake$$=$JSCompiler_alias_FALSE$$,$result$$3$$=$NO_RESULT$$;$useViews$$===$JSCompiler_alias_VOID$$&&($useViews$$=$JSCompiler_alias_TRUE$$);this.on("frame",
function($msg$$22$$){$miniGame$$.onFrame($msg$$22$$.frame)});this.$miniGameDone$=function $this$$miniGameDone$$(){if($miniGame$$===$NO_MINI_GAME$$)throw"MonkeyWorld.NoActiveMiniGameException";this.$tell$("Game.stopMiniGame");if($gameMode$$===$GameMode$CHILD_PLAY$$)$gameMode$$=$GameMode$MONKEY_SEE$$,$startMiniGame$$();else if($gameMode$$===$GameMode$MONKEY_SEE$$){var $_result$$inline_49$$=$miniGame$$.$getResult$();$result$$3$$.$pushResult$($_result$$inline_49$$);$_result$$inline_49$$.$madeMistake$()&&
($mistake$$=$JSCompiler_alias_TRUE$$);$_round$$===$Settings$$.get("global","monkeySeeRounds")?($setRound$$(1),$gameMode$$=$GameMode$MONKEY_DO$$,$player$$1$$=$AGENT$$):$setRound$$($_round$$+1);$startMiniGame$$()}else $gameMode$$===$GameMode$MONKEY_DO$$&&($_round$$===$Settings$$.get("global","monkeySeeRounds")?($setRound$$(1),$gameMode$$=$GameMode$CHILD_PLAY$$,$player$$1$$=$GAMER$$):($setRound$$($_round$$+1),$startMiniGame$$()))};this.$getMode$=function $this$$getMode$$(){return $gameMode$$};this.$getRound$=
function $this$$getRound$$(){return $_round$$};this.start=function $this$start$(){var $chooser$$=$JSCompiler_alias_NULL$$,$chooser$$=new $MW$AgentChooser$$(function($agent$$){$chooser$$.$tearDown$();$GameView$$.prototype.$agentImage$=$agent$$;$result$$3$$=new $MW$MiniGameResult$$;$player$$1$$=$GAMER$$;$startMiniGame$$()});(new $MW$AgentChooserView$$($chooser$$)).$setup$()};this.stop=function $this$stop$(){$that$$5$$.$tell$("Game.stopMiniGame");$miniGame$$.stop();delete $miniGame$$;$miniGame$$=$NO_MINI_GAME$$;
$gameMode$$=$GameMode$CHILD_PLAY$$;$setRound$$(1);$player$$1$$=$GAMER$$;$mistake$$=$JSCompiler_alias_FALSE$$;$result$$3$$=$NO_RESULT$$;this.$tell$("Game.stop")};this.$restart$=function $this$$restart$$(){this.stop();this.start()};this.$madeMistake$=function $this$$madeMistake$$(){return $mistake$$};this.$setAgentAsPlayer$=function $this$$setAgentAsPlayer$$(){$player$$1$$=$AGENT$$};this.$setGamerAsPlayer$=function $this$$setGamerAsPlayer$$(){$player$$1$$=$GAMER$$};this.$playerIsGamer$=function $this$$playerIsGamer$$(){return $player$$1$$===
$GAMER$$};this.$playerIsAgent$=function $this$$playerIsAgent$$(){return $player$$1$$===$AGENT$$};this.$modeIsChild$=function $this$$modeIsChild$$(){return $gameMode$$===$GameMode$CHILD_PLAY$$};this.$modeIsAgentSee$=function $this$$modeIsAgentSee$$(){return $gameMode$$===$GameMode$MONKEY_SEE$$};this.$modeIsAgentDo$=function $this$$modeIsAgentDo$$(){return $gameMode$$===$GameMode$MONKEY_DO$$}}$MW$Game$$.prototype=new $MW$GlobalObject$$("MonkeyWorld.Game");function $MW$AgentChooser$$($done$$2$$){$Module$$.call(this);var $agents$$=["monkey","lion","elephant","giraff"];this.$getAgents$=function $this$$getAgents$$(){return $agents$$};this.$choose$=function $this$$choose$$($agent$$1$$){$done$$2$$($agent$$1$$)}}$inherit$$($MW$AgentChooser$$,$Module$$);function $Fish$$($ieventManager$$,$id$$4$$,$inumber$$,$ix$$,$iy$$){var $ispecies$$=Math.floor(7*Math.random()),$x$$64$$=$ix$$,$y$$47$$=$iy$$,$scale$$5$$=Math.random()*(1-0.7)+0.7,$offset$$14$$=2*Math.random()*Math.PI,$direction$$4$$=1,$scaledWidth$$=0.3072*$scale$$5$$,$scaledHeight$$=0.2133*$scale$$5$$,$_canFree$$=$JSCompiler_alias_TRUE$$;this.toString=function $this$toString$(){return"Fish "+$id$$4$$};var $xSpeed$$=Math.random()*(8.0E-5-6.0E-5)+6.0E-5,$ySpeed$$=Math.random()*(0.5-0.6)+0.6;this.setX=
function $this$setX$($ix$$1$$){$x$$64$$=$ix$$1$$};this.setY=function $this$setY$($iy$$1$$){$y$$47$$=$iy$$1$$};this.getX=function $this$getX$(){return $x$$64$$};this.getY=function $this$getY$(){return $y$$47$$};this.$getTargetNumber$=function $this$$getTargetNumber$$(){return $inumber$$};this.getWidth=$JSCompiler_returnArg$$(0.3072);this.getHeight=$JSCompiler_returnArg$$(0.2133);this.$getScaledWidth$=function $this$$getScaledWidth$$(){return $scaledWidth$$};this.$getScaledHeight$=function $this$$getScaledHeight$$(){return $scaledHeight$$};
this.getScale=function $this$getScale$(){return $scale$$5$$};this.$getSpecies$=function $this$$getSpecies$$(){return $ispecies$$};this.$getDirection$=function $this$$getDirection$$(){return $direction$$4$$};var $hooked$$=$JSCompiler_alias_FALSE$$;this.$canFree$=function $this$$canFree$$(){return $_canFree$$};this.$setCanFree$=function $this$$setCanFree$$(){$_canFree$$=$JSCompiler_alias_FALSE$$};this.$getMouthPosition$=function $this$$getMouthPosition$$(){switch($ispecies$$){case 0:return{x:0.1,y:0};
case 1:return{x:0.1,y:0};case 2:return{x:0.1,y:0};case 3:return{x:0.1,y:0};case 4:return{x:0.06,y:0.07};case 5:return{x:0.06,y:0.07};case 6:return{x:0.1,y:0};default:return{x:0,y:0}}};this.$hooked$=function $this$$hooked$$(){$hooked$$=$JSCompiler_alias_TRUE$$};var $that$$6$$=this;this.onFrame=function $this$onFrame$($frame$$2$$){$hooked$$||($y$$47$$=$iy$$+0.03*Math.cos($ySpeed$$*($offset$$14$$+2*$frame$$2$$.time*Math.PI/3E3)),$x$$64$$=1==$direction$$4$$?$x$$64$$+$xSpeed$$*$frame$$2$$.timeDiff:$x$$64$$-
$xSpeed$$*$frame$$2$$.timeDiff,$ieventManager$$.$tell$("fishinggame.fishmoved",{$fish$:$that$$6$$}))};this.$hitRightWall$=function $this$$hitRightWall$$($newPos$$){$direction$$4$$=-1;$ieventManager$$.$tell$("fishinggame.fishturnedleft",{$fish$:this});$x$$64$$=$newPos$$-($x$$64$$-$newPos$$);$ieventManager$$.$tell$("fishinggame.fishmoved",{$fish$:this})};this.$hitLeftWall$=function $this$$hitLeftWall$$($newPos$$1$$){$direction$$4$$=1;$ieventManager$$.$tell$("fishinggame.fishturnedright",{$fish$:this});
$x$$64$$=$newPos$$1$$+($newPos$$1$$-$x$$64$$);$ieventManager$$.$tell$("fishinggame.fishmoved",{$fish$:this})};var $captured$$=$JSCompiler_alias_FALSE$$;this.isCaptured=function $this$isCaptured$(){return $captured$$};this.capture=function $this$capture$(){$captured$$=$JSCompiler_alias_TRUE$$};this.$free$=function $this$$free$$(){$hooked$$=$captured$$=$JSCompiler_alias_FALSE$$};$ieventManager$$.$tell$("fishinggame.initiatedfish",{$fish$:this})};function $FishingGame$$(){function $_hooked$$($fish$$3$$){$fish$$3$$.$hooked$()}function $_checkEndOfRound$$(){if($correctCaptured$$==$numberCorrect$$||$basketSize$$==$fishArray$$.length){for(var $i$$18$$=0;$i$$18$$<$fishArray$$.length;$i$$18$$++)$fishArray$$[$i$$18$$].$getTargetNumber$()==$targetNumber$$1$$&&$fishArray$$[$i$$18$$].$setCanFree$();$basketSize$$==$numberCorrect$$||$mode$$9$$==$GameMode$MONKEY_SEE$$||$mode$$9$$==$GameMode$MONKEY_DO$$?($basketSize$$!=$numberCorrect$$&&$that$$8$$.$reportMistake$(),
$that$$8$$.$addAction$("FishingGame.catchingDone"),$that$$8$$.$tell$("FishingGame.catchingDone",{callback:function(){$that$$8$$.$tell$("FishingGame.countingStarted")}})):$that$$8$$.$tell$("FishingGame.freeWrongOnes")}}function $inactivity$$(){var $sound$$=$JSCompiler_alias_NULL$$;$mode$$9$$==$GameMode$CHILD_PLAY$$?($sound$$=$Sounds$FISHING_THERE_ARE_MORE$$,$that$$8$$.$tell$("FishingGame.inactivity",{$sound$:$sound$$}),$restartInactivityTimer$$()):$mode$$9$$==$GameMode$MONKEY_SEE$$&&($sound$$=$Sounds$FISHING_KEEP_GOING$$,
$that$$8$$.$tell$("FishingGame.inactivity",{$sound$:$sound$$}),$restartInactivityTimer$$())}function $restartInactivityTimer$$(){$useTimer$$&&!($correctCaptured$$==$numberCorrect$$||$basketSize$$==$fishArray$$.length)&&($timer$$=$that$$8$$.setTimeout($inactivity$$,5E3))}var $that$$8$$=this;this.$tag$("FishingGame");var $mode$$9$$=$that$$8$$.$game$.$getMode$();$Log$$.debug("Applying "+$mode$$9$$+" Mode","model");this.toString=$JSCompiler_returnArg$$("Fish Tank");for(var $fishArray$$=[],$basketArray$$=
[],$basketSize$$=0,$correctCaptured$$=0,$targetNumber$$1$$=$Settings$$.get("miniGames","fishingGame","targetNumber"),$numberCorrect$$=$Settings$$.get("miniGames","fishingGame","numberCorrect"),$numberFishes$$=$Settings$$.get("miniGames","fishingGame","numberOfFish"),$maxNumber_numbers$$=$Settings$$.get("miniGames","fishingGame","maxNumber"),$Starts$$={"0":{x:0.3,y:0.3},1:{x:0.8,y:0.4},2:{x:0.6,y:0.6},3:{x:1,y:0.65},4:{x:0.4,y:0.2},5:{x:0.1,y:0.5},6:{x:1,y:0.8},7:{x:0.8,y:0.2}},$maxNumber_numbers$$=
$Utils$$.$crookedRandoms$(1,$maxNumber_numbers$$,$numberFishes$$,$targetNumber$$1$$,$numberCorrect$$,$JSCompiler_alias_TRUE$$),$id$$5$$=0,$i$$14$$=0;$i$$14$$<$numberFishes$$;$i$$14$$++){var $pos$$1$$=$Starts$$[$i$$14$$%7];$fishArray$$.push(new $Fish$$(this.$evm$,$id$$5$$++,$maxNumber_numbers$$[$i$$14$$],$pos$$1$$.x,$pos$$1$$.y))}this.onFrame=function $this$onFrame$($frame$$3$$){for(var $i$$15$$=0;$i$$15$$<$fishArray$$.length;$i$$15$$++){var $fish$$=$fishArray$$[$i$$15$$];$fish$$.onFrame($frame$$3$$);
var $x$$65$$=$fish$$.getX();0<$fish$$.$getDirection$()&&$x$$65$$>=1-$fish$$.$getScaledWidth$()/2?$fish$$.$hitRightWall$(1-$fish$$.$getScaledWidth$()/2):0>$fish$$.$getDirection$()&&$x$$65$$<=$fish$$.$getScaledWidth$()/2&&$fish$$.$hitLeftWall$($fish$$.$getScaledWidth$()/2)}};this.$turnOnClicks$=function $this$$turnOnClicks$$(){for(var $i$$16$$=0;$i$$16$$<$fishArray$$.length;$i$$16$$++)$that$$8$$.$tell$("fishinggame.turnOnClick",{$fish$:$fishArray$$[$i$$16$$]})};this.$getNumberOfCorrectFish$=function $this$$getNumberOfCorrectFish$$(){return $numberCorrect$$};
this.$getTargetNumber$=function $this$$getTargetNumber$$(){return $targetNumber$$1$$};this.$turnOffClicks$=function $this$$turnOffClicks$$(){$Log$$.debug("Turning off clicks","FishingGame");for(var $i$$17$$=0;$i$$17$$<$fishArray$$.length;$i$$17$$++)$that$$8$$.$tell$("fishinggame.turnOffClick",{$fish$:$fishArray$$[$i$$17$$]})};var $useTimer$$=$JSCompiler_alias_TRUE$$;this.$turnOffInactivityTimer$=function $this$$turnOffInactivityTimer$$(){$useTimer$$=$JSCompiler_alias_FALSE$$};var $timer$$=$JSCompiler_alias_NULL$$;
this.$activity$=function $this$$activity$$(){$timer$$!=$JSCompiler_alias_NULL$$&&$that$$8$$.clearTimeout($timer$$)};this.$noactivity$=function $this$$noactivity$$(){$restartInactivityTimer$$()};this.$getAllFish$=function $this$$getAllFish$$(){return $fishArray$$};this.$_putFishInBasket$=function $this$$_putFishInBasket$$($fish$$1$$){var $slot$$=this.$getNextBasketSlot$();$slot$$==$basketArray$$.length?$basketArray$$.push($fish$$1$$):$basketArray$$[$slot$$]=$fish$$1$$;$basketSize$$++;$fish$$1$$.$getTargetNumber$()==
$targetNumber$$1$$?($correctCaptured$$++,this.$addAction$("correct")):this.$addAction$("incorrect");$fish$$1$$.capture()};this.stop=function $this$stop$(){this.$activity$()};this.$catchFish$=function $this$$catchFish$$($fish$$4$$,$done$$3$$){$that$$8$$.$tell$("FishingGame.catch",{$fish$:$fish$$4$$,$hooked$:$_hooked$$,$done$:function(){$that$$8$$.$_putFishInBasket$($fish$$4$$);$_checkEndOfRound$$();$done$$3$$!=$JSCompiler_alias_VOID$$&&$done$$3$$()}})};this.$freeFish$=function $this$$freeFish$$($fish$$5$$,
$done$$4$$){$fish$$5$$.$getTargetNumber$()==$numberCorrect$$?this.$addAction$("freeCorrect"):this.$addAction$("freeIncorrect");$that$$8$$.$tell$("FishingGame.free",{$fish$:$fish$$5$$,$done$:function(){for(var $i$$inline_53$$=0;$i$$inline_53$$<$basketArray$$.length;$i$$inline_53$$++)$basketArray$$[$i$$inline_53$$]===$fish$$5$$&&($basketArray$$[$i$$inline_53$$]=$JSCompiler_alias_VOID$$);$basketSize$$--;$fish$$5$$.$getTargetNumber$()==$targetNumber$$1$$&&$correctCaptured$$--;$_checkEndOfRound$$();$fish$$5$$.$free$();
$done$$4$$!=$JSCompiler_alias_VOID$$&&$done$$4$$()}})};this.$getNextBasketSlot$=function $this$$getNextBasketSlot$$(){for(var $min$$1$$=1E3,$foundAny$$=$JSCompiler_alias_FALSE$$,$i$$20$$=0;$i$$20$$<$basketArray$$.length;$i$$20$$++)$basketArray$$[$i$$20$$]===$JSCompiler_alias_VOID$$&&$i$$20$$<$min$$1$$&&($min$$1$$=$i$$20$$,$foundAny$$=$JSCompiler_alias_TRUE$$);return $foundAny$$?$min$$1$$:$basketArray$$.length};this.$getBasket$=function $this$$getBasket$$(){return $basketArray$$};var $countTimes$$=
0;this.$countFish$=function $this$$countFish$$($number$$1$$){if($that$$8$$.$game$.$getMode$()===$GameMode$MONKEY_SEE$$&&0==$countTimes$$||$that$$8$$.$game$.$getMode$()!=$GameMode$MONKEY_SEE$$){$countTimes$$++;this.$addAction$($number$$1$$);var $seemCorrect$$=$number$$1$$==$numberCorrect$$||$that$$8$$.$game$.$getMode$()!=$GameMode$CHILD_PLAY$$;$number$$1$$!=$numberCorrect$$&&this.$reportMistake$();$that$$8$$.$tell$("FishingGame.counted",{$number$:$number$$1$$});$that$$8$$.$tell$("FishingGame.countingResult",
{$correct$:$seemCorrect$$})}};this.start=function $this$start$(){$restartInactivityTimer$$()};this.$getOneCorrectFish$=function $this$$getOneCorrectFish$$(){for(var $i$$21$$=0;$i$$21$$<$fishArray$$.length;$i$$21$$++){var $fish$$6$$=$fishArray$$[$i$$21$$];if(!$fish$$6$$.isCaptured()&&$fish$$6$$.$getTargetNumber$()==$targetNumber$$1$$)return $fish$$6$$}return $JSCompiler_alias_NULL$$};this.$getOneIncorrectFish$=function $this$$getOneIncorrectFish$$(){for(var $i$$22$$=0;$i$$22$$<$fishArray$$.length;$i$$22$$++){var $fish$$7$$=
$fishArray$$[$i$$22$$];if(!$fish$$7$$.isCaptured()&&$fish$$7$$.$getTargetNumber$()!=$targetNumber$$1$$)return $fish$$7$$}return $JSCompiler_alias_NULL$$};this.$getOneIncorrectlyCapturedFish$=function $this$$getOneIncorrectlyCapturedFish$$(){for(var $i$$23$$=0;$i$$23$$<$fishArray$$.length;$i$$23$$++)if($fishArray$$[$i$$23$$].isCaptured()&&$fishArray$$[$i$$23$$].$getTargetNumber$()!=$targetNumber$$1$$)return $fishArray$$[$i$$23$$];return $JSCompiler_alias_NULL$$};this.$getOneCorrectlyCapturedFish$=
function $this$$getOneCorrectlyCapturedFish$$(){for(var $i$$24$$=0;$i$$24$$<$fishArray$$.length;$i$$24$$++)if($fishArray$$[$i$$24$$].isCaptured()&&$fishArray$$[$i$$24$$].$getTargetNumber$()==$targetNumber$$1$$)return $fishArray$$[$i$$24$$];return $JSCompiler_alias_NULL$$};this.$acceptedCountingResult$=function $this$$acceptedCountingResult$$(){this.$roundDone$()}}$FishingGame$$.prototype=new $MiniGame$$;function $Ladder$$(){function $dropTreat$$($callback$$38$$){$that$$9$$.$tell$("Ladder.dropTreat",{callback:function(){$that$$9$$.$tell$("Ladder.birdFlyToNest",{callback:$callback$$38$$});$that$$9$$.$tell$("Ladder.hasTreat")},$allowNumpad$:$JSCompiler_alias_FALSE$$})}function $placeTreat$$(){$targetNumber$$2$$=$Utils$$.$getRandomInt$(1,6);$that$$9$$.$tell$("Ladder.placeTreat",{callback:function(){$that$$9$$.$tell$("Ladder.readyToPick")}})}function $birdHasFlewn$$($correct$$){return function(){$disallowInterrupt$$();
$correct$$?($birdHasTreat$$=$JSCompiler_alias_TRUE$$,$dropTreat$$(function(){$that$$9$$.$addAction$("correct");$birdHasTreat$$=$JSCompiler_alias_FALSE$$})):$that$$9$$.$tell$("Ladder.birdFlyToNest",{callback:function(){$that$$9$$.$tell$("Ladder.incorrect");4<=$timesHelped$$&&$that$$9$$.$tell$("Ladder.agentSuggestSolution");$that$$9$$.$addAction$("incorrect")},$allowNumpad$:$JSCompiler_alias_TRUE$$})}}function $allowInterrupt$$($callback$$37$$){$interruptable$$=$JSCompiler_alias_TRUE$$;$that$$9$$.$game$.$modeIsAgentDo$()&&
!$that$$9$$.$agentIsInterrupted$()?$that$$9$$.$tell$("Ladder.allowInterrupt",{callback:$callback$$37$$}):$callback$$37$$()}function $disallowInterrupt$$(){$interruptable$$=$JSCompiler_alias_FALSE$$;$that$$9$$.$game$.$modeIsAgentDo$()&&$that$$9$$.$tell$("Ladder.disallowInterrupt")}$MiniGame$$.call(this);var $that$$9$$=this;this.$tag$("Ladder");var $ladder$$=Array(6);$Settings$$.get("miniGames","ladder","targetNumber");for(var $targetNumber$$2$$=$Utils$$.$getRandomInt$(1,6),$tries$$1$$=0,$collectedTreats$$=
0,$birdHasTreat$$=$JSCompiler_alias_FALSE$$,$interruptable$$=$JSCompiler_alias_FALSE$$,$i$$25$$=1,$j$$=0;6>=$i$$25$$;$i$$25$$+=1)$ladder$$[$j$$++]=$i$$25$$;this.$openTreat$=function $this$$openTreat$$(){$collectedTreats$$++;$that$$9$$.$tell$("Ladder.openTreat",{callback:function(){3===$collectedTreats$$||3<=$tries$$1$$&&1<=$collectedTreats$$?$that$$9$$.$tell$("Ladder.cheer",{callback:function(){$that$$9$$.$roundDone$()}}):$placeTreat$$()}})};var $lastHelpAttempt$$=0,$timesHelped$$=0;this.$pick$=function $this$$pick$$($number$$2$$){$tries$$1$$++;
$allowInterrupt$$(function(){$that$$9$$.$tell$("Ladder.picked",{$number$:$number$$2$$,$correct$:$number$$2$$===$targetNumber$$2$$,callback:function(){$that$$9$$.$agentIsBeingHelped$()?$timesHelped$$++:$timesHelped$$=0;$that$$9$$.$agentIsBeingHelped$()&&$number$$2$$===$targetNumber$$2$$&&$that$$9$$.$helpedAgent$();$that$$9$$.$tell$("Ladder.birdFlyToLadder",{$number$:$number$$2$$,callback:function(){$birdHasFlewn$$($number$$2$$===$targetNumber$$2$$)();$number$$2$$<$targetNumber$$2$$&&($that$$9$$.$game$.$modeIsAgentDo$()&&
!$that$$9$$.$agentIsInterrupted$()&&!$that$$9$$.$agentIsBeingHelped$())&&$that$$9$$.$tell$("Ladder.agentTooLow");$number$$2$$>$targetNumber$$2$$&&($that$$9$$.$game$.$modeIsAgentDo$()&&!$that$$9$$.$agentIsInterrupted$()&&!$that$$9$$.$agentIsBeingHelped$())&&$that$$9$$.$tell$("Ladder.agentTooHigh");$number$$2$$<$targetNumber$$2$$&&($that$$9$$.$game$.$modeIsAgentSee$()||$that$$9$$.$agentIsInterrupted$()||$that$$9$$.$agentIsBeingHelped$())&&$that$$9$$.$tell$("Ladder.tooLow");$number$$2$$>$targetNumber$$2$$&&
($that$$9$$.$game$.$modeIsAgentSee$()||$that$$9$$.$agentIsInterrupted$()||$that$$9$$.$agentIsBeingHelped$())&&$that$$9$$.$tell$("Ladder.tooHigh")}});$number$$2$$===$targetNumber$$2$$&&($number$$2$$<$lastHelpAttempt$$&&($that$$9$$.$agentIsInterrupted$()||$that$$9$$.$agentIsBeingHelped$()))&&$that$$9$$.$tell$("Ladder.betterBecauseSmaller");$number$$2$$===$targetNumber$$2$$&&($number$$2$$>$lastHelpAttempt$$&&($that$$9$$.$agentIsInterrupted$()||$that$$9$$.$agentIsBeingHelped$()))&&$that$$9$$.$tell$("Ladder.betterBecauseBigger");
$number$$2$$!=$targetNumber$$2$$&&($that$$9$$.$agentIsInterrupted$()||$that$$9$$.$agentIsBeingHelped$())&&$that$$9$$.$tell$("Ladder.hmm");$that$$9$$.$game$.$modeIsAgentDo$()&&(console.log("lastHelpAttempt = "+$number$$2$$),$lastHelpAttempt$$=$number$$2$$);var $agentBeingHelpedCorrectly$$=$that$$9$$.$agentIsBeingHelped$()&&$number$$2$$===$targetNumber$$2$$;($that$$9$$.$game$.$modeIsAgentDo$()&&!$that$$9$$.$agentIsBeingHelped$()||$agentBeingHelpedCorrectly$$)&&$that$$9$$.$resumeAgent$()}})})};this.$getTargetNumber$=
function $this$$getTargetNumber$$(){return $targetNumber$$2$$};this.$getIncorrectNumber$=function $this$$getIncorrectNumber$$(){var $pos$$2$$=$Utils$$.$getRandomInt$(0,$ladder$$.length-1);return $ladder$$[$pos$$2$$]===$targetNumber$$2$$?this.$getIncorrectNumber$():$ladder$$[$pos$$2$$]};this.$getLadder$=function $this$$getLadder$$(){return $ladder$$};var $_oldInterruptAgent$$=this.$interruptAgent$;this.$interruptAgent$=function $this$$interruptAgent$$(){$interruptable$$&&$that$$9$$.$game$.$playerIsAgent$()?
($disallowInterrupt$$(),$_oldInterruptAgent$$(),$that$$9$$.$popAction$(),$birdHasTreat$$||($that$$9$$.$tell$("Ladder.interrupt"),$that$$9$$.$tell$("Ladder.birdFlyToNest",{callback:$JSCompiler_emptyFn$$()}))):console.log("Not interruptable")};this.start=function $this$start$(){$that$$9$$.$tell$("Ladder.start");$that$$9$$.$game$.$modeIsAgentSee$()?$that$$9$$.$tell$("Ladder.introduceAgent",{callback:$placeTreat$$}):$that$$9$$.$game$.$modeIsAgentDo$()?$that$$9$$.$tell$("Ladder.startAgent",{callback:$placeTreat$$}):
$placeTreat$$()}}$inherit$$($Ladder$$,$MiniGame$$);function $GameEventManager$$(){var $listeners$$={},$toForget$$=[],$telling$$=0;this.$wevm$=$JSCompiler_returnArg$$("GameEventManager");this.on=function $this$on$($type$$54_types$$,$callback$$40$$,$name$$67$$){for(var $type$$54_types$$=$type$$54_types$$.split(" "),$i$$26$$=0;$i$$26$$<$type$$54_types$$.length;$i$$26$$++)$type$$54_types$$[$i$$26$$]in $listeners$$||($listeners$$[$type$$54_types$$[$i$$26$$]]=[]),$listeners$$[$type$$54_types$$[$i$$26$$]].push($callback$$40$$),$callback$$40$$.$_caller$=
$name$$67$$,$Log$$.debug(($name$$67$$===$JSCompiler_alias_VOID$$?"unnamed":$name$$67$$)+" registerd "+$type$$54_types$$[$i$$26$$],"evm")};this.off=function $this$off$($type$$55$$,$name$$68$$){for(var $i$$27$$=0;$i$$27$$<$listeners$$[$type$$55$$].length;$i$$27$$++)$listeners$$[$type$$55$$][$i$$27$$].$_caller$===$name$$68$$&&$listeners$$[$type$$55$$].splice($i$$27$$,1);0==$listeners$$[$type$$55$$].length&&delete $listeners$$[$type$$55$$]};this.print=function $this$print$(){console.log("-------EVENT MANAGER STATE-----------------");
for(var $key$$19$$ in $listeners$$){console.log("key: "+$key$$19$$);for(var $j$$1$$=0;$j$$1$$<$listeners$$[$key$$19$$].length;$j$$1$$++)console.log("   "+$listeners$$[$key$$19$$][$j$$1$$].$_caller$)}console.log("-------------------------------------------")};this.$forget$=function $this$$forget$$($name$$69$$){if(0<$telling$$)$toForget$$.push($name$$69$$);else{var $sum$$1$$=0,$key$$20$$;for($key$$20$$ in $listeners$$){for(var $i$$29$$=0;$i$$29$$<$listeners$$[$key$$20$$].length;$i$$29$$++)$listeners$$[$key$$20$$][$i$$29$$].$_caller$===
$name$$69$$&&($listeners$$[$key$$20$$].splice($i$$29$$,1),$sum$$1$$++);0==$listeners$$[$key$$20$$].length&&delete $listeners$$[$key$$20$$]}$Log$$.debug("Forgot "+$sum$$1$$+" event registred by "+$name$$69$$,"evm")}};this.$tell$=function $this$$tell$$($type$$57$$,$message$$11$$){$telling$$++;var $bucket$$=$listeners$$[$type$$57$$];if($bucket$$!=$JSCompiler_alias_VOID$$)for(var $i$$30$$=0;$i$$30$$<$bucket$$.length;$i$$30$$++)(0,$bucket$$[$i$$30$$])($message$$11$$);$telling$$--;if(0==$telling$$&&0<$toForget$$.length){for($i$$30$$=
0;$i$$30$$<$toForget$$.length;$i$$30$$++)this.$forget$($toForget$$[$i$$30$$]);$toForget$$=[]}}}function $NoEventManager$$(){this.$wevm$=$JSCompiler_returnArg$$("NoEventManager");this.on=$JSCompiler_emptyFn$$();this.$tell$=$JSCompiler_emptyFn$$();this.off=$JSCompiler_emptyFn$$();this.$forget$=$JSCompiler_emptyFn$$()};function $NoModule$$(){this.$init$=$JSCompiler_emptyFn$$();this.start=$JSCompiler_emptyFn$$();this.$tearDown$=$JSCompiler_emptyFn$$();this.onFrame=$JSCompiler_emptyFn$$();this.$getActions$=$JSCompiler_emptyFn$$()};function $MonkeyWorldView$$($stage$$2$$,$gameState$$){function $monkeyJump$$($monkey$$2$$,$dir$$){$_monkeyJump$$&&Tween.get($monkey$$2$$.attrs).to({y:$monkey$$2$$.attrs.y-100*$dir$$},600).call(function(){$monkeyJump$$($monkey$$2$$,-1*$dir$$)})}function $monkeyEat$$($monkey$$1$$,$banana$$){$bananas$$1$$.splice($bananas$$1$$.length-1);Tween.get($banana$$.attrs).to({y:300,x:400},1E3).to({alpha:0},500).call(function(){$eatNumber$$.attrs.text=++$eatNumberText$$;Tween.get($eatNumber$$.attrs).to({alpha:1},
500).wait(1500).to({alpha:0},500);Tween.get($monkey$$1$$.attrs.scale).to({x:1.2*$monkey$$1$$.attrs.scale.x,y:1.2*$monkey$$1$$.attrs.scale.y},1E3).wait(500).call(function(){0<$bananas$$1$$.length&&$monkeyEat$$($monkey$$1$$,$bananas$$1$$[$bananas$$1$$.length-1])})})}function $systemConfirmation$$($happy$$,$callback$$44$$){$happy$$?$Sound$$.play($Sounds$MONKEY_LEARNED_WELL$$):($Sound$$.play($Sounds$MONKEY_DIDNT_LEARN_WELL$$),$gameState$$.$lastDoRound$()||setTimeout(function(){$Sound$$.play($Sounds$LETS_SHOW_HIM_AGAIN$$)},
1E3));var $faceImg$$=$happy$$?$images$$["happy-face"]:$images$$["sad-face"],$face$$3$$=new Kinetic.Image({image:$faceImg$$,x:$stage$$2$$.getWidth()/2,y:$stage$$2$$.getHeight()/2,centerOffset:{x:$faceImg$$.width/2,y:$faceImg$$.height/2},scale:{x:$stage$$2$$.$_mwunit$,y:$stage$$2$$.$_mwunit$}});$Utils$$.$scaleShape$($face$$3$$,$stage$$2$$.$_mwunit$);$layer$$2$$.add($face$$3$$);setTimeout(function(){$layer$$2$$.remove($face$$3$$);$callback$$44$$()},4E3)}$Log$$.debug("Creating MonkeyWorldView","object");
$ViewModule$$.call(this);var $that$$10$$=this;console.log(this);this.$_tag$="MonkeyWorldView";var $layer$$2$$=$stage$$2$$.$_gameLayer$,$bananas$$1$$=[];this.$tearDown$=function $this$$tearDown$$(){this.$forget$()};console.log(this);this.on("Game.askIfReadyToTeach",$JSCompiler_emptyFn$$());this.on("Game.introduceBubba",function($msg$$24$$){var $bubba$$=new Kinetic.Image({image:$images$$.rafiki,x:$stage$$2$$.getWidth()/2,y:$stage$$2$$.getHeight()/2,centerOffset:{x:$images$$.rafiki.width/2,y:$images$$.rafiki.height/
2}});$Utils$$.$scaleShape$($bubba$$,$stage$$2$$.$_mwunit$);$layer$$2$$.add($bubba$$);$Sound$$.play($Sounds$BUBBA_HI$$);setTimeout(function(){$Sound$$.play($Sounds$BUBBA_HERE_TO_HELP$$);setTimeout(function(){$layer$$2$$.remove($bubba$$);$msg$$24$$.callback()},2E3)},1E3)});this.on("Game.showHappySystemConfirmation",function($msg$$25$$){$systemConfirmation$$($JSCompiler_alias_TRUE$$,$msg$$25$$.callback)});this.on("Game.showSadSystemConfirmation",function($msg$$26$$){$systemConfirmation$$($JSCompiler_alias_FALSE$$,
$msg$$26$$.callback)});this.on("Game.thankYouForHelpingMonkey",function($msg$$27$$){var $text$$18$$=new Kinetic.Text({fontFamily:"Arial",fontSize:36*$stage$$2$$.$_mwunit$,textFill:"white",$textStrokeFill$:"black",text:$Strings$get$$("THANK_YOU_FOR_HELPING"),align:"center",y:$stage$$2$$.getHeight()/2,x:$stage$$2$$.getWidth()/2});$layer$$2$$.add($text$$18$$);setTimeout(function(){Tween.get($text$$18$$.attrs).to({x:-300,y:-400,alpha:1},500).call(function(){$layer$$2$$.remove($text$$18$$);$msg$$27$$.callback()})},
1500)});var $_loadingText$$=new Kinetic.Text({fontFamily:"Arial",fontSize:36,textFill:"white",$textStrokeFill$:"black",text:$Strings$get$$("INIT_LOADING_SOUNDS"),align:"center",y:$stage$$2$$.getHeight()/2+20,x:$stage$$2$$.getWidth()/2});this.on("Game.loadingSounds",function(){$layer$$2$$.add($_loadingText$$)});this.on("Game.loadingImages",function(){$_loadingText$$.setText($Strings$get$$("INIT_LOADING_IMAGES"))});this.on("Game.loadingDone",function(){$layer$$2$$.remove($_loadingText$$)});this.on("Game.updateSoundLoading",
function($msg$$31$$){$_loadingText$$.setText($Strings$get$$("INIT_LOADING_SOUNDS")+" "+Math.round(100*$msg$$31$$.progress)+" %")});this.on("Game.updateImageLoading",function($msg$$32$$){$_loadingText$$.setText($Strings$get$$("INIT_LOADING_IMAGES")+" "+Math.round(100*$msg$$32$$.progress)+" %")});var $eatNumber$$=$JSCompiler_alias_NULL$$,$eatNumberText$$=0;this.on("Game.eatBananas",function(){$that$$10$$.on("Game.viewTearDown",function(){$_monkeyJump$$=$JSCompiler_alias_FALSE$$;$that$$10$$.$forget$("GGV_EATBANANAS");
$layer$$2$$.remove($monkey$$);$layer$$2$$.remove($eatNumber$$)},"GGV_EATBANANAS");$eatNumber$$=new Kinetic.Text({fontFamily:"Arial",fontSize:72*$stage$$2$$.$_mwunit$,textFill:"white",$textStrokeFill$:"black",text:$eatNumberText$$,align:"center",y:$stage$$2$$.getHeight()/2,x:$stage$$2$$.getWidth()/2-$stage$$2$$.getWidth()/4,alpha:0});var $monkey$$=new Kinetic.Image({image:$images$$.monkey,x:$stage$$2$$.getWidth()/2,y:$stage$$2$$.getHeight()/2,centerOffset:{x:$images$$.monkey.width/2,y:$images$$.monkey.height/
2},scale:{x:$stage$$2$$.$_mwunit$,y:$stage$$2$$.$_mwunit$}});$Utils$$.$scaleShape$($monkey$$,$stage$$2$$.$_mwunit$);$Utils$$.$scaleShape$($eatNumber$$,$stage$$2$$.$_mwunit$);$layer$$2$$.add($monkey$$);$layer$$2$$.add($eatNumber$$);$monkeyJump$$($monkey$$,1);0<$bananas$$1$$.length&&$monkeyEat$$($monkey$$,$bananas$$1$$[$bananas$$1$$.length-1])});var $_monkeyJump$$=$JSCompiler_alias_TRUE$$;this.on("Game.addBanana",function($msg$$35$$){var $banana$$1$$=new Kinetic.Image({image:$images$$["banana-big"],
scale:{x:0.001,y:0.001},centerOffset:{x:256,y:256},x:$stage$$2$$.attrs.width/2,y:$stage$$2$$.attrs.height/2});$Utils$$.$scaleShape$($banana$$1$$,$stage$$2$$.$_mwunit$);$bananas$$1$$.push($banana$$1$$);$layer$$2$$.add($banana$$1$$);$Sound$$.play($Sounds$GET_BANANA$$);Tween.get($banana$$1$$.attrs).to({rotation:2*Math.PI},1E3).wait(1500).to({rotation:-Math.PI/2,x:$stage$$2$$.attrs.width-50*$stage$$2$$.$_mwunit$-48*($msg$$35$$.index-1)*$stage$$2$$.$_mwunit$,y:50*$stage$$2$$.$_mwunit$},1E3);Tween.get($banana$$1$$.attrs.scale).to({x:2*
$stage$$2$$.$_mwunit$,y:2*$stage$$2$$.$_mwunit$},1E3).wait(1500).to({x:0.125*$stage$$2$$.$_mwunit$,y:0.125*$stage$$2$$.$_mwunit$},1E3).call(function(){$banana$$1$$.attrs.image=$images$$["banana-small"]}).wait(1500).call(function(){console.log("HERE");$msg$$35$$!=$JSCompiler_alias_VOID$$&&$msg$$35$$.callback!=$JSCompiler_alias_VOID$$&&$msg$$35$$.callback()})});this.on("Game.readyToTeach",function(){var $noGroup_text$$19$$=new Kinetic.Group({x:$stage$$2$$.getWidth()/2-200-128,y:300}),$yesGroup$$=new Kinetic.Group({x:$stage$$2$$.getWidth()/
2+200-128,y:300}),$green$$3$$=new Kinetic.Image({image:$images$$.green}),$red$$3$$=new Kinetic.Image({image:$images$$.red}),$monkey$$3$$=new Kinetic.Image({image:$images$$.monkey_icon,scale:{x:2,y:2},x:100,y:100}),$personYes$$=new Kinetic.Image({image:$images$$["person-yes"],x:20,y:25}),$personNo$$=new Kinetic.Image({image:$images$$["person-no"],x:60,y:55});$Utils$$.$scaleShape$($green$$3$$,$stage$$2$$.$_mwunit$);$Utils$$.$scaleShape$($red$$3$$,$stage$$2$$.$_mwunit$);$Utils$$.$scaleShape$($monkey$$3$$,
$stage$$2$$.$_mwunit$);$Utils$$.$scaleShape$($personYes$$,$stage$$2$$.$_mwunit$);$Utils$$.$scaleShape$($personNo$$,$stage$$2$$.$_mwunit$);$noGroup_text$$19$$.add($red$$3$$);$noGroup_text$$19$$.add($personNo$$);$yesGroup$$.add($green$$3$$);$yesGroup$$.add($monkey$$3$$);$yesGroup$$.add($personYes$$);$layer$$2$$.add($yesGroup$$);$layer$$2$$.add($noGroup_text$$19$$);$noGroup_text$$19$$=new Kinetic.Text({fontSize:48,fontFamily:"Arial",text:$Strings$get$$("ARE_YOU_READY_TO_TEACH"),textFill:"white",align:"center",
y:100,x:$stage$$2$$.getWidth()/2});$layer$$2$$.add($Utils$$.$scaleShape$($noGroup_text$$19$$,$stage$$2$$.$_mwunit$));$layer$$2$$.draw()})}$inherit$$($MonkeyWorldView$$,$ViewModule$$);(function ReadyToTeachView($stage$$3$$,$gameState$$1$$,$model$$){var $layer$$3$$=new Kinetic.Layer,$yesGroup$$1$$=$JSCompiler_alias_NULL$$,$noGroup$$1$$=$JSCompiler_alias_NULL$$,$text$$20$$=$JSCompiler_alias_NULL$$,$evm$$1$$=this.$evm$;$stage$$3$$.add($layer$$3$$);this.$init$=function $this$$init$$(){var $backRect_green$$4$$=new Kinetic.Rect({width:$stage$$3$$.getWidth(),height:$stage$$3$$.getHeight(),fill:"white"});$layer$$3$$.add($backRect_green$$4$$);$noGroup$$1$$=new Kinetic.Group({x:$stage$$3$$.getWidth()/
2-200-128,y:300});$yesGroup$$1$$=new Kinetic.Group({x:$stage$$3$$.getWidth()/2+200-128,y:300});var $backRect_green$$4$$=new Kinetic.Image({image:$images$$.green}),$red$$4$$=new Kinetic.Image({image:$images$$.red}),$monkey$$4$$=new Kinetic.Image({image:$images$$.monkey_icon,scale:{x:2,y:2},x:100,y:100}),$personYes$$1$$=new Kinetic.Image({image:$images$$["person-yes"],x:20,y:25}),$personNo$$1$$=new Kinetic.Image({image:$images$$["person-no"],x:60,y:55});$noGroup$$1$$.add($red$$4$$);$noGroup$$1$$.add($personNo$$1$$);
$yesGroup$$1$$.add($backRect_green$$4$$);$yesGroup$$1$$.add($monkey$$4$$);$yesGroup$$1$$.add($personYes$$1$$);$yesGroup$$1$$.on("mousedown touchstart",function(){$yesGroup$$1$$.off("mousedown touchstart");$noGroup$$1$$.off("mousedown touchstart");$model$$.$readyToTeach$()});$noGroup$$1$$.on("mousedown touchstart",function(){$yesGroup$$1$$.off("mousedown touchstart");$noGroup$$1$$.off("mousedown touchstart");$model$$.$notReadyToTeach$()});$layer$$3$$.add($yesGroup$$1$$);$layer$$3$$.add($noGroup$$1$$);
$text$$20$$=new Kinetic.Text({fontSize:48,fontFamily:"Arial",text:$Strings$get$$("ARE_YOU_READY_TO_TEACH"),textFill:"black",align:"center",y:100,x:$stage$$3$$.getWidth()/2});$layer$$3$$.add($text$$20$$);$layer$$3$$.draw()};$evm$$1$$.on("frame",function(){$layer$$3$$.draw()},"ReadyToTeachView");$evm$$1$$.on("Game.getBanana",function(){Tween.get($yesGroup$$1$$).to({x:-300,y:-300},600);Tween.get($noGroup$$1$$).to({x:$stage$$3$$.getWidth()+300,y:$stage$$3$$.getHeight()+300},600);Tween.get($text$$20$$).to({x:0,
y:$stage$$3$$.getHeight()+300},600)},"ReadyToTeachView");this.start=function $this$start$(){$Sound$$.play($Sounds$ARE_YOU_READY_TO_TEACH$$)};this.$tearDown$=function $this$$tearDown$$(){$stage$$3$$.remove($layer$$3$$);$evm$$1$$.$forget$("ReadyToTeachView")}}).prototype=new $ViewModule$$;function $MW$AgentChooserView$$($chooser$$2$$){function $Button$$($agent$$2_img$$2$$,$rect_x$$67$$,$y$$49$$){var $g$$=new Kinetic.Group({x:$rect_x$$67$$,y:$y$$49$$}),$rect_x$$67$$=new Kinetic.Rect({width:250,height:250,fill:"red",alpha:0.8,cornerRadius:10,strokeWidth:4,stroke:"white",centerOffset:{x:125,y:125}});$g$$.add($rect_x$$67$$);$g$$.$_rect$=$rect_x$$67$$;$g$$.$_agent$=$agent$$2_img$$2$$;$agent$$2_img$$2$$=new Kinetic.Image({image:$images$$[$agent$$2_img$$2$$],centerOffset:{x:$images$$[$agent$$2_img$$2$$].width/
2,y:$images$$[$agent$$2_img$$2$$].height/2}});$g$$.add($agent$$2_img$$2$$);$g$$.on("mousedown touchstart",function(){$Sound$$.play($Sounds$CLICK$$);$g$$.$_rect$.setFill("yellow");$g$$.moveToTop();$buttons$$.$bringForward$($g$$,function(){$chooser$$2$$.$choose$($g$$.$_agent$)});$buttons$$.$disableClicks$()});return $g$$}$ViewModule$$.call(this);this.$tag$("AgentChooserView");var $view$$3$$=this,$layer$$4$$=$JSCompiler_alias_NULL$$,$buttons$$=function(){var $array$$11$$=[];this.add=function $this$add$($button$$1$$){$array$$11$$.push($button$$1$$);
$layer$$4$$.add($button$$1$$)};this.$disableClicks$=function $this$$disableClicks$$(){for(var $i$$32$$=0;$i$$32$$<$array$$11$$.length;$i$$32$$++)$array$$11$$[$i$$32$$].attrs.listening=$JSCompiler_alias_FALSE$$};this.$bringForward$=function $this$$bringForward$$($button$$2$$,$callback$$45$$){for(var $i$$33$$=0;$i$$33$$<$array$$11$$.length;$i$$33$$++)$array$$11$$[$i$$33$$]===$button$$2$$?($view$$3$$.$getTween$($array$$11$$[$i$$33$$].attrs).wait(1E3).to({x:$view$$3$$.$stage$.getWidth()/2,y:$view$$3$$.$stage$.getHeight()/
2},1E3),$view$$3$$.$getTween$($array$$11$$[$i$$33$$].attrs.scale).wait(1E3).to({x:1.5,y:1.5},1E3).wait(2E3).call($callback$$45$$)):$view$$3$$.$getTween$($array$$11$$[$i$$33$$].attrs).to({alpha:0},1E3)};return this}();$view$$3$$.$setup$=function $$view$$3$$$$setup$$(){$layer$$4$$=new Kinetic.Layer;$view$$3$$.$stage$.add($layer$$4$$);var $bg_buttonGrid$$=new Kinetic.Image({image:$images$$.junglebg});$layer$$4$$.add($bg_buttonGrid$$);for(var $bg_buttonGrid$$=$Utils$$.$gridizer$(400,230,280,280),$agents$$1$$=
$chooser$$2$$.$getAgents$(),$i$$34$$=0;$i$$34$$<$agents$$1$$.length;$i$$34$$++){var $pos$$3$$=$bg_buttonGrid$$.next();$buttons$$.add(new $Button$$($agents$$1$$[$i$$34$$],$pos$$3$$.x,$pos$$3$$.y))}};$view$$3$$.on($Events$TEAR_DOWN$$,function(){$view$$3$$.$forget$();$view$$3$$.$stage$.remove($layer$$4$$)});$view$$3$$.on("frame",function(){$layer$$4$$.draw()})}$inherit$$($MW$AgentChooserView$$,$ViewModule$$);function $FishingView$$($fishingGame$$){function $startGame$$1$$(){$that$$11$$.$showBig$($Strings$get$$("FISHING_CATCH_NUMBER",$fishingGame$$.$getTargetNumber$()).toUpperCase());$Sound$$.play($Sounds$FISHING_CATCH$$);$that$$11$$.setTimeout(function(){$Log$$.debug("Ready to play","view");$Sound$$.play($Sounds$$["NUMBER_"+$fishingGame$$.$getTargetNumber$()]);$that$$11$$.$evm$.$tell$("FishingGame.started",$JSCompiler_alias_NULL$$)},700)}function $forget$$(){$that$$11$$.$forget$("FishingView_ROD");$that$$11$$.$forget$()}
function $init$$(){$waveGenerator2$$=new $WaveGenerator$$(30*$stage$$4$$.$_mwunit$,"#3333ff","#aaaaff",4,-2*$stage$$4$$.$_mwunit$);$waveGenerator3$$=new $WaveGenerator$$(20*$stage$$4$$.$_mwunit$,"blue","white",6,-2*$stage$$4$$.$_mwunit$);$waveGenerator1$$=new $WaveGenerator$$(15*$stage$$4$$.$_mwunit$,"#598FD9","#8ED6FF",8,-1*$stage$$4$$.$_mwunit$);for(var $fishArray$$1_water$$=$fishingGame$$.$getAllFish$(),$i$$37_sky$$=0;$i$$37_sky$$<$fishArray$$1_water$$.length;$i$$37_sky$$++)$createFish$$($fishArray$$1_water$$[$i$$37_sky$$]);
$that$$11$$.$setStaticLayer$($backgroundLayer$$);$that$$11$$.$basicInit$();$Log$$.debug("Building stage...","view");$fishArray$$1_water$$=new Kinetic.Shape({drawFunc:function(){var $context$$4$$=this.getContext();$context$$4$$.beginPath();$context$$4$$.moveTo($JSCompiler_object_inline_X_105$$,$JSCompiler_object_inline_Y_107$$+17*$stage$$4$$.$_mwunit$);$context$$4$$.lineTo($JSCompiler_object_inline_X_105$$+$JSCompiler_object_inline_WIDTH_104$$,$JSCompiler_object_inline_Y_107$$+17*$stage$$4$$.$_mwunit$);
$context$$4$$.lineTo($JSCompiler_object_inline_X_105$$+$JSCompiler_object_inline_WIDTH_104$$,$JSCompiler_object_inline_Y_107$$+$JSCompiler_object_inline_HEIGHT_106$$);$context$$4$$.lineTo($JSCompiler_object_inline_X_105$$,$JSCompiler_object_inline_Y_107$$+$JSCompiler_object_inline_HEIGHT_106$$);var $grd$$3$$=$context$$4$$.createRadialGradient($JSCompiler_object_inline_X_105$$+$JSCompiler_object_inline_WIDTH_104$$/2,$JSCompiler_object_inline_Y_107$$,$JSCompiler_object_inline_GRADIENT_RADIUS_INNER_110$$,
$JSCompiler_object_inline_X_105$$+$JSCompiler_object_inline_WIDTH_104$$/2,$JSCompiler_object_inline_Y_107$$,$JSCompiler_object_inline_GRADIENT_RADIUS_OUTER_111$$);$grd$$3$$.addColorStop(1,"#598FD9");$grd$$3$$.addColorStop(0,"#8ED6FF");$context$$4$$.fillStyle=$grd$$3$$;$context$$4$$.fill();$context$$4$$.closePath();this.fill()}});$images$$.sky.style.width=300*$stage$$4$$.$_mwunit$+"px";$basket$$=new Kinetic.Image({x:$JSCompiler_object_inline_X_113$$,y:$JSCompiler_object_inline_Y_114$$,width:$JSCompiler_object_inline_WIDTH_115$$,
height:$JSCompiler_object_inline_HEIGHT_116$$,image:$images$$.basket});$i$$37_sky$$=new Kinetic.Image({x:$JSCompiler_object_inline_X_105$$,y:50*$stage$$4$$.$_mwunit$,width:$JSCompiler_object_inline_WIDTH_104$$,image:$images$$.sky});$outGroup$$.add($i$$37_sky$$);$backgroundLayer$$.add($basket$$);$outGroup$$.add($fishArray$$1_water$$);$createBottom$$($outGroup$$,$JSCompiler_object_inline_X_105$$,$JSCompiler_object_inline_X_105$$+$JSCompiler_object_inline_WIDTH_104$$,$JSCompiler_object_inline_Y_107$$+
$JSCompiler_object_inline_HEIGHT_106$$);$createPlant$$($outGroup$$,$JSCompiler_object_inline_X_105$$+20,$JSCompiler_object_inline_Y_107$$+$JSCompiler_object_inline_HEIGHT_106$$-150);$createPlant$$($outGroup$$,$JSCompiler_object_inline_X_105$$+100,$JSCompiler_object_inline_Y_107$$+$JSCompiler_object_inline_HEIGHT_106$$-160);$createPlant$$($outGroup$$,$JSCompiler_object_inline_X_105$$+$JSCompiler_object_inline_WIDTH_104$$-130,$JSCompiler_object_inline_Y_107$$+$JSCompiler_object_inline_HEIGHT_106$$-
140);if($that$$11$$.$game$.$getMode$()==$GameMode$MONKEY_DO$$&&1<$that$$11$$.$game$.$getRound$()||$that$$11$$.$game$.$getMode$()==$GameMode$GUARDIAN_ANGEL$$)$basket$$.attrs.x+=$ROLL_DIFF$$,$outGroup$$.attrs.x+=$ROLL_DIFF$$,$shapeLayer$$.attrs.x+=$ROLL_DIFF$$;$fishingRod$$=new $FishingRod$$($JSCompiler_object_inline_X_105$$,$JSCompiler_object_inline_Y_107$$-50*$stage$$4$$.$_mwunit$/2,$JSCompiler_object_inline_X_105$$+$JSCompiler_object_inline_WIDTH_104$$/2,$JSCompiler_object_inline_Y_107$$-50*$stage$$4$$.$_mwunit$,
0.390625*$stage$$4$$.getHeight());$bubbleGenerator$$=new $BubbleGenerator$$;$bubbleGenerator$$.start();$waveGenerator1$$.start();$waveGenerator2$$.start();$waveGenerator3$$.start();$backgroundLayer$$.add($outGroup$$);$backgroundLayer$$.draw();$that$$11$$.on("frame",function($msg$$56$$){$animator$$.tick($msg$$56$$.frame.timeDiff);$shapeLayer$$.draw()})}function $freeFish$$($fish$$20$$,$done$$8$$){if($fish$$20$$.$canFree$()){$Log$$.debug("Starting to free "+$fish$$20$$,"fish");$allowClicks$$&&$fishingGame$$.$turnOffClicks$();
var $group$$=$fishGroups$$[$fish$$20$$];$JSCompiler_StaticMethods_animateTo$$($animator$$,$group$$.attrs,{x:$JSCompiler_object_inline_X_105$$+$JSCompiler_object_inline_WIDTH_104$$/2,y:$JSCompiler_object_inline_Y_107$$,rotation:Math.PI/2},{duration:{x:1E3,y:1E3,rotation:1E3},$onFinish$:function(){$Sound$$.play($Sounds$FISHING_SPLASH$$);$group$$.attrs.centerOffset.x=0;$group$$.attrs.centerOffset.y=0;var $pos$$8$$=$translateFish$$($fish$$20$$);$JSCompiler_StaticMethods_animateTo$$($animator$$,$group$$.attrs,
{x:$pos$$8$$.x,y:$pos$$8$$.y,rotation:0},{duration:{x:1E3,y:1E3,rotation:1E3},onFrame:$JSCompiler_emptyFn$$(),$onFinish$:function(){$done$$8$$();$allowClicks$$&&$fishingGame$$.$turnOnClicks$()}})}})}else $Sound$$.play($Sounds$FISHING_NOT_THIS_ONE$$)}function $tearDownView$$(){$tearedDownView$$||($tearedDownView$$=$JSCompiler_alias_TRUE$$,$Log$$.debug("Tearing down FishingView's layers","view"),$stage$$4$$.remove($backgroundLayer$$),$stage$$4$$.remove($shapeLayer$$),$stage$$4$$.remove($pondLayer$$))}
function $clickFunction$$($fish$$19$$){$fishingGame$$.$activity$();$allowClicks$$&&($fish$$19$$.isCaptured()?($fishingGame$$.$freeFish$($fish$$19$$,$JSCompiler_emptyFn$$()),$fishingGame$$.$noactivity$()):($Log$$.debug("Starting to catch "+$fish$$19$$,"fish"),$fishingGame$$.$catchFish$($fish$$19$$,$JSCompiler_emptyFn$$())))}function $turnOnClick$$($fish$$18$$){$fishGroups$$[$fish$$18$$].on("mousedown touchstart",function(){$allowClicks$$&&$clickFunction$$($fish$$18$$)})}var $JSCompiler_object_inline_X_113$$,
$JSCompiler_object_inline_Y_114$$,$JSCompiler_object_inline_WIDTH_115$$,$JSCompiler_object_inline_HEIGHT_116$$,$JSCompiler_object_inline_WIDTH_104$$,$JSCompiler_object_inline_X_105$$,$JSCompiler_object_inline_HEIGHT_106$$,$JSCompiler_object_inline_Y_107$$,$JSCompiler_object_inline_GRADIENT_RADIUS_INNER_110$$,$JSCompiler_object_inline_GRADIENT_RADIUS_OUTER_111$$;function $switchToMonkey$$(){$outGroup$$.moveTo($shapeLayer$$);$basket$$.moveTo($shapeLayer$$);var $offset$$15$$=$JSCompiler_object_inline_WIDTH_104$$+
$JSCompiler_object_inline_X_105$$+300*$stage$$4$$.$_mwunit$;$shapeLayer$$.attrs.centerOffset={x:$offset$$15$$,y:0};$shapeLayer$$.attrs.x=$offset$$15$$;$basket$$.moveToBottom();$outGroup$$.moveToBottom();$backgroundLayer$$.draw();$that$$11$$.$getTween$($shapeLayer$$.attrs.scale).to({x:0},2E3).call(function(){$shapeLayer$$.attrs.centerOffset.x=0;$shapeLayer$$.attrs.x=$ROLL_DIFF$$;$shapeLayer$$.attrs.scale.x=0.1;$that$$11$$.$getTween$($shapeLayer$$.attrs.scale).to({x:1},2E3).call(function(){$outGroup$$.moveTo($backgroundLayer$$);
$outGroup$$.attrs.x=$ROLL_DIFF$$;$backgroundLayer$$.draw()})})}function $translateFish$$($fish$$8$$){var $pos$$4$$={};$pos$$4$$.x=$fish$$8$$.getX()*$JSCompiler_object_inline_WIDTH_104$$+$JSCompiler_object_inline_X_105$$;$pos$$4$$.y=$fish$$8$$.getY()*$JSCompiler_object_inline_HEIGHT_106$$+$JSCompiler_object_inline_Y_107$$;return $pos$$4$$}function $WaveGenerator$$($height$$13$$,$darkColor$$,$lightColor$$,$velocity$$,$dy$$4$$){function $createWave$$($startPosX$$1$$,$velocity$$1$$){var $s$$3$$=$defaultS$$-
$startPosX$$1$$,$wave$$=new Kinetic.$Wave$({$wx$:$startPosX$$1$$,$wy$:$startPosY$$+$dy$$4$$,height:$height$$13$$,$darkColor$:$darkColor$$,$lightColor$:$lightColor$$});$waveGroup$$.add($wave$$);$that$$11$$.$getTween$($wave$$.attrs).to({$wx$:$JSCompiler_object_inline_WIDTH_104$$},1E3*($s$$3$$/$velocity$$1$$)).call(function(){$waveGroup$$.remove($wave$$)})}function $init$$1$$(){for(var $i$$36$$=$startPosX$$;$i$$36$$<$defaultS$$;$i$$36$$+=2*($velocity$$*$defaultInterval$$/1E3))$createWave$$($i$$36$$,
$velocity$$)}var $waveGroup$$=new Kinetic.Group({x:$JSCompiler_object_inline_X_105$$,y:$JSCompiler_object_inline_Y_107$$});$shapeLayer$$.add($waveGroup$$);var $startPosX$$=60*-$stage$$4$$.$_mwunit$,$startPosY$$=20*$stage$$4$$.$_mwunit$,$defaultInterval$$=4E3*$stage$$4$$.$_mwunit$,$defaultS$$=$JSCompiler_object_inline_WIDTH_104$$;this.start=function $this$start$(){$init$$1$$();this.$_interval$=setInterval(function(){$createWave$$($startPosX$$,$velocity$$)},$defaultInterval$$)};this.stop=function $this$stop$(){clearInterval(this.$_interval$)}}
function $BubbleGenerator$$(){function $createBubble$$(){var $y$$50$$=$Utils$$.$getRandomInt$(350*$stage$$4$$.$_mwunit$,360*$stage$$4$$.$_mwunit$),$time$$4$$=$Utils$$.$getRandomInt$(2E4,5E4),$bubble$$=new Kinetic.$Bubble$({x:$Utils$$.$getRandomInt$(150*$stage$$4$$.$_mwunit$,330*$stage$$4$$.$_mwunit$),y:$y$$50$$,radius:$Utils$$.$getRandomInt$(3*$stage$$4$$.$_mwunit$,6*$stage$$4$$.$_mwunit$)});$that$$11$$.$getTween$($bubble$$.attrs).to({y:360*$stage$$4$$.$_mwunit$-$y$$50$$+80*$stage$$4$$.$_mwunit$},
$time$$4$$).call(function(){$shapeLayer$$.remove($bubble$$)});$shapeLayer$$.add($bubble$$)}this.start=function $this$start$(){this.$_interval$=setInterval($createBubble$$,3E3)};this.stop=function $this$stop$(){clearInterval(this.$_interval$)}}function $FishingRod$$($x1$$3$$,$y1$$3$$,$x2$$1$$,$y2$$1$$,$length$$12$$){function $throwFishInBasket$$($fish$$14$$,$done$$7$$){var $endState$$2$$=$BASKET_SLOTS$$[$fishingGame$$.$getNextBasketSlot$()];$endState$$2$$.rotation=2*$fish$$14$$.$getDirection$()*Math.PI;
$that$$11$$.$getTween$($fishGroups$$[$fish$$14$$].attrs).to($endState$$2$$,1500).call(function(){$fishingGame$$.$noactivity$()});$that$$11$$.$getTween$($fishGroups$$[$fish$$14$$].attrs.centerOffset).to({x:0,y:0},1500);$JSCompiler_StaticMethods_animateTo$$($animator$$,$rod$$.attrs,{length:$length$$12$$,$angle$:0,$y2$:$y2$$1$$},{duration:{length:1E3,$angle$:1E3,$y2$:200},onFrame:$JSCompiler_emptyFn$$(),$onFinish$:function(){$done$$7$$();$startPendulum$$();$allowClicks$$&&$fishingGame$$.$turnOnClicks$()}})}
function $windInFish$$($fish$$13$$,$done$$6$$){var $fishGroup$$=$fishGroups$$[$fish$$13$$],$mouth$$=$fish$$13$$.$getMouthPosition$();$mouth$$.x*=$JSCompiler_object_inline_WIDTH_104$$;$mouth$$.y*=$JSCompiler_object_inline_HEIGHT_106$$;var $direction$$5$$=$fish$$13$$.$getDirection$();$fishGroup$$.attrs.centerOffset.y=$mouth$$.y;$fishGroup$$.attrs.x=0<$direction$$5$$?$fishGroup$$.attrs.x+$mouth$$.x:$fishGroup$$.attrs.x-$mouth$$.x;$fishGroup$$.attrs.centerOffset.x=$mouth$$.x;$Sound$$.play($Sounds$FISHING_WINDING$$);
$JSCompiler_StaticMethods_animateTo$$($animator$$,$fishGroup$$.attrs,{rotation:-1*$direction$$5$$*Math.PI/2},{duration:{rotation:500},onFrame:$JSCompiler_emptyFn$$(),$onFinish$:$JSCompiler_emptyFn$$()});$JSCompiler_StaticMethods_animateTo$$($animator$$,$rod$$.attrs,{$y2$:$JSCompiler_object_inline_Y_107$$-90*$stage$$4$$.$_mwunit$,length:20*$stage$$4$$.$_mwunit$},{speed:{$y2$:0.4*$stage$$4$$.$_mwunit$,length:0.5*$stage$$4$$.$_mwunit$},onFrame:function(){var $aboveSurface_fishGroup$$1$$=$fishGroups$$[$fish$$13$$];
$aboveSurface_fishGroup$$1$$.attrs.x=$rod$$.attrs.$x3$;$aboveSurface_fishGroup$$1$$.attrs.y=$rod$$.attrs.$y3$;$aboveSurface_fishGroup$$1$$=$aboveSurface_fishGroup$$1$$.attrs.y<$JSCompiler_object_inline_Y_107$$;!$playedSplash$$&&$aboveSurface_fishGroup$$1$$&&($Sound$$.play($Sounds$FISHING_SPLASH$$),$playedSplash$$=$JSCompiler_alias_TRUE$$)},$onFinish$:function(){$Sound$$.stop($Sounds$FISHING_WINDING$$);$throwFishInBasket$$($fish$$13$$,$done$$6$$)}})}function $startPendulum$$(){$that$$11$$.on("frame",
function($msg$$41$$){$rod$$.attrs.$angle$+=1.0E-4*$pendulumDirection$$*$msg$$41$$.frame.timeDiff;$rod$$.attrs.$angle$>=$maxAngle$$?($pendulumDirection$$*=-1,$rod$$.attrs.$angle$=$maxAngle$$):$rod$$.attrs.$angle$<=-$maxAngle$$&&($pendulumDirection$$*=-1,$rod$$.attrs.$angle$=-$maxAngle$$)},"FishingView_ROD")}function $getGoalAngle$$($fish$$10_front$$){$fish$$10_front$$=$getFishFront$$($fish$$10_front$$);return Math.atan(($rod$$.attrs.$x2$-$fish$$10_front$$.x)/($rod$$.attrs.$y2$-$fish$$10_front$$.y))}
function $getFishFront$$($fish$$11$$){var $dir$$1$$=$fish$$11$$.$getDirection$(),$pos$$5$$=$translateFish$$($fish$$11$$),$obj$$27$$={};$obj$$27$$.x=$pos$$5$$.x+$dir$$1$$*$fish$$11$$.$getMouthPosition$().x*$JSCompiler_object_inline_WIDTH_104$$;$obj$$27$$.y=$pos$$5$$.y+$dir$$1$$*$fish$$11$$.$getMouthPosition$().y*$JSCompiler_object_inline_HEIGHT_106$$;return $obj$$27$$}var $playedSplash$$=$JSCompiler_alias_FALSE$$,$pendulumDirection$$=1,$maxAngle$$=Math.PI/30,$rod$$=new Kinetic.$Rod$({strokeWidth:2*
$stage$$4$$.$_mwunit$,$x1$:$x1$$3$$,$x2$:$x2$$1$$,$y1$:$y1$$3$$,$y2$:$y2$$1$$,length:$length$$12$$,$angle$:0});$shapeLayer$$.add($rod$$);$startPendulum$$();this.$catchFish$=function $this$$catchFish$$($fish$$12$$,$done$$5$$,$hooked$$1$$){$that$$11$$.off("frame","FishingView_ROD");$allowClicks$$&&$fishingGame$$.$turnOffClicks$();$playedSplash$$=$JSCompiler_alias_FALSE$$;$Sound$$.play($Sounds$FISHING_SWOSH$$);var $angle$$3$$=$getGoalAngle$$($fish$$12$$),$front$$1$$=$getFishFront$$($fish$$12$$);$JSCompiler_StaticMethods_animateTo$$($animator$$,
$rod$$.attrs,{$angle$:$angle$$3$$,length:Math.sqrt(Math.pow($rod$$.attrs.$x2$-$front$$1$$.x,2)+Math.pow($rod$$.attrs.$y2$-$front$$1$$.y,2))},{duration:{length:500,$angle$:500},onFrame:function(){$angle$$3$$=$getGoalAngle$$($fish$$12$$);var $endState$$inline_59_front$$2$$=$getFishFront$$($fish$$12$$),$node$$inline_58$$=$rod$$.attrs,$endState$$inline_59_front$$2$$={$angle$:$angle$$3$$,length:Math.sqrt(Math.pow($rod$$.attrs.$x2$-$endState$$inline_59_front$$2$$.x,2)+Math.pow($rod$$.attrs.$y2$-$endState$$inline_59_front$$2$$.y,
2))},$obj$$inline_60$$=$node$$inline_58$$.$_animator$,$prop$$inline_61$$;for($prop$$inline_61$$ in $endState$$inline_59_front$$2$$)$obj$$inline_60$$.$values$[$prop$$inline_61$$].to=$endState$$inline_59_front$$2$$[$prop$$inline_61$$],$obj$$inline_60$$.$values$[$prop$$inline_61$$].$useDuration$?$obj$$inline_60$$.$values$[$prop$$inline_61$$].step=($endState$$inline_59_front$$2$$[$prop$$inline_61$$]-$node$$inline_58$$[$prop$$inline_61$$])/$obj$$inline_60$$.$values$[$prop$$inline_61$$].$timeLeft$:($obj$$inline_60$$.$values$[$prop$$inline_61$$].duration=
Math.abs($endState$$inline_59_front$$2$$[$prop$$inline_61$$]-$node$$inline_58$$[$prop$$inline_61$$])/$obj$$inline_60$$.$values$[$prop$$inline_61$$].speed,$obj$$inline_60$$.$values$[$prop$$inline_61$$].step=($endState$$inline_59_front$$2$$[$prop$$inline_61$$]-$node$$inline_58$$[$prop$$inline_61$$])/$obj$$inline_60$$.$values$[$prop$$inline_61$$].duration,$obj$$inline_60$$.$values$[$prop$$inline_61$$].$timeLeft$=$obj$$inline_60$$.$values$[$prop$$inline_61$$].duration)},$onFinish$:function(){$hooked$$1$$($fish$$12$$);
$windInFish$$($fish$$12$$,$done$$5$$)}})}}function $createFish$$($fish$$16$$){var $fishGroup$$2_pos$$7$$=$translateFish$$($fish$$16$$),$fishGroup$$2_pos$$7$$=new Kinetic.Group({x:$fishGroup$$2_pos$$7$$.x,y:$fishGroup$$2_pos$$7$$.y,width:$fish$$16$$.getScale()*$fish$$16$$.getWidth()*$JSCompiler_object_inline_WIDTH_104$$,height:$fish$$16$$.getScale()*$fish$$16$$.getHeight()*$JSCompiler_object_inline_HEIGHT_106$$,centerOffset:{x:0,y:0}});$shapeLayer$$.add($fishGroup$$2_pos$$7$$);var $image$$2_numberText$$=
new Kinetic.Image({x:0,y:0,image:$images$$["fish"+$fish$$16$$.$getSpecies$()],width:$fish$$16$$.getScale()*$fish$$16$$.getWidth()*$JSCompiler_object_inline_WIDTH_104$$,height:$fish$$16$$.getScale()*$fish$$16$$.getHeight()*$JSCompiler_object_inline_HEIGHT_106$$,centerOffset:{x:$fish$$16$$.$getScaledWidth$()*$JSCompiler_object_inline_WIDTH_104$$/2,y:$fish$$16$$.$getScaledHeight$()*$JSCompiler_object_inline_HEIGHT_106$$/2}});$image$$2_numberText$$.setScale(-1,1);$fishGroup$$2_pos$$7$$.add($image$$2_numberText$$);
$image$$2_numberText$$=new Kinetic.Text({x:0,y:0,text:$fish$$16$$.$getTargetNumber$(),fontSize:0.046875*$stage$$4$$.getWidth(),fontFamily:"Gloria Hallelujah",textFill:"white",align:"center",verticalAlign:"middle",textStroke:"#444",textStrokeWidth:2/1024*$stage$$4$$.getWidth()});$fishGroup$$2_pos$$7$$.add($image$$2_numberText$$);$image$$2_numberText$$.setScale($fish$$16$$.getScale());$fishGroups$$[$fish$$16$$]=$fishGroup$$2_pos$$7$$;$numberGroups$$[$fish$$16$$]=$image$$2_numberText$$;$turnOnClick$$($fish$$16$$)}
function $createPlant$$($layer$$5$$,$image$$3_x$$69$$,$y$$51$$){$image$$3_x$$69$$=new Kinetic.Image({x:$image$$3_x$$69$$+64,y:$y$$51$$+64,image:$images$$.plant,width:128,height:128,centerOffset:{x:64,y:64}});$layer$$5$$.add($image$$3_x$$69$$)}function $createBottom$$($layer$$6$$,$x1$$4$$,$x2$$2$$,$y$$52$$){var $triangle$$=new Kinetic.Shape({drawFunc:function(){var $context$$=this.getContext();$context$$.beginPath();$context$$.moveTo($x1$$4$$,$y$$52$$);$context$$.lineTo($x2$$2$$,$y$$52$$);$context$$.lineTo($x2$$2$$,
$y$$52$$-50);$context$$.quadraticCurveTo($x1$$4$$,$y$$52$$-50,$x1$$4$$,$y$$52$$-80);$context$$.closePath();this.fill()},fill:"#EED6AF"});$layer$$6$$.add($triangle$$)}this.$tag$("FishingView");var $that$$11$$=this,$stage$$4$$=$that$$11$$.$stage$,$fishGroups$$={},$numberGroups$$={},$animator$$=new $Animator$$,$fishingRod$$=$JSCompiler_alias_NULL$$,$allowClicks$$=$JSCompiler_alias_TRUE$$,$bubbleGenerator$$=$JSCompiler_alias_NULL$$,$waveGenerator1$$=$JSCompiler_alias_NULL$$,$waveGenerator2$$=$JSCompiler_alias_NULL$$,
$waveGenerator3$$=$JSCompiler_alias_NULL$$;$JSCompiler_object_inline_X_105$$=0.2783203125*$stage$$4$$.getWidth();$JSCompiler_object_inline_Y_107$$=0.1953125*$stage$$4$$.getHeight();$JSCompiler_object_inline_WIDTH_104$$=0.390625*$stage$$4$$.getWidth();$JSCompiler_object_inline_HEIGHT_106$$=580/768*$stage$$4$$.getHeight();$JSCompiler_object_inline_GRADIENT_RADIUS_INNER_110$$=30*$stage$$4$$.$_mwunit$;$JSCompiler_object_inline_GRADIENT_RADIUS_OUTER_111$$=400*$stage$$4$$.$_mwunit$;$JSCompiler_object_inline_X_113$$=
0.693359375*$stage$$4$$.getWidth();$JSCompiler_object_inline_Y_114$$=50/768*$stage$$4$$.getHeight();$JSCompiler_object_inline_WIDTH_115$$=0.263671875*$stage$$4$$.getWidth();$JSCompiler_object_inline_HEIGHT_116$$=400/768*$stage$$4$$.getHeight();for(var $ROLL_DIFF$$=-240*$stage$$4$$.$_mwunit$,$BASKET_SLOTS$$={},$basketGrid_loadingLayer$$=$Utils$$.$gridizer$($JSCompiler_object_inline_X_113$$+0.0625*$stage$$4$$.getWidth(),$JSCompiler_object_inline_Y_114$$+$JSCompiler_object_inline_HEIGHT_116$$-64/768*
$stage$$4$$.getHeight(),0.1220703125*$stage$$4$$.getWidth(),-128/768*$stage$$4$$.getHeight()),$i$$35_text$$21$$=0;8>$i$$35_text$$21$$;$i$$35_text$$21$$++)$BASKET_SLOTS$$[$i$$35_text$$21$$]=$basketGrid_loadingLayer$$.next();var $fishCountingView$$=new $FishCountingView$$(this,$stage$$4$$,$that$$11$$.$game$),$shapeLayer$$=new Kinetic.Layer,$backgroundLayer$$=new Kinetic.Layer,$outGroup$$=new Kinetic.Group({x:0,y:0}),$basket$$=$JSCompiler_alias_NULL$$,$pondLayer$$=$backgroundLayer$$;$stage$$4$$.add($backgroundLayer$$);
$stage$$4$$.add($pondLayer$$);$stage$$4$$.add($shapeLayer$$);var $tearedDownView$$=$JSCompiler_alias_FALSE$$;this.on("Game.stopMiniGame",function(){$tearDownView$$();$fishCountingView$$.$tearDown$();$forget$$()});this.on("FishingGame.catch",function($msg$$43$$){$fishingRod$$.$catchFish$($msg$$43$$.$fish$,$msg$$43$$.$done$,$msg$$43$$.$hooked$)});this.on("FishingGame.free",function($msg$$44$$){$freeFish$$($msg$$44$$.$fish$,$msg$$44$$.$done$)});this.on("fishinggame.turnOnClick",function($msg$$45$$){$turnOnClick$$($msg$$45$$.$fish$)});
this.on("fishinggame.turnOffClick",function($msg$$46$$){$fishGroups$$[$msg$$46$$.$fish$].off("mousedown touchstart")});this.on("fishinggame.allowClicks",function(){$allowClicks$$=$JSCompiler_alias_TRUE$$});this.on("fishinggame.disallowClicks",function(){$allowClicks$$=$JSCompiler_alias_FALSE$$});this.on("FishingGame.freeWrongOnes",function(){$that$$11$$.$showBig$($Strings$get$$("FISHING_FREE_WRONG_ONES").toUpperCase());$Sound$$.play($Sounds$FISHING_FREE_WRONG_ONES$$)});this.on("FishingGame.catchingDone",
function($msg$$50$$){$allowClicks$$=$JSCompiler_alias_FALSE$$;$that$$11$$.$showBig$($Strings$get$$("YAY").toUpperCase());$Sound$$.play($Sounds$YAY$$);this.setTimeout(function(){var $callback$$inline_65$$=$msg$$50$$.callback;$that$$11$$.off("frame");$bubbleGenerator$$.stop();$waveGenerator1$$.stop();$waveGenerator2$$.stop();$waveGenerator3$$.stop();$tearDownView$$();$fishCountingView$$.$init$($fishingGame$$,$fishGroups$$);$callback$$inline_65$$()},2E3)});Kinetic.$Wave$=function $Kinetic$$Wave$$($cfg$$){var $wave$$1$$=
new Kinetic.Shape($cfg$$),$height$$15$$=$cfg$$.height,$width$$16$$=50*$stage$$4$$.$_mwunit$;$wave$$1$$.drawFunc=function $$wave$$1$$$drawFunc$(){var $context$$1$$=this.getContext();$context$$1$$.beginPath();$context$$1$$.moveTo(0,-20*$stage$$4$$.$_mwunit$);$context$$1$$.lineTo($JSCompiler_object_inline_WIDTH_104$$,-20*$stage$$4$$.$_mwunit$);$context$$1$$.lineTo($JSCompiler_object_inline_WIDTH_104$$,20*$stage$$4$$.$_mwunit$);$context$$1$$.lineTo(0,20*$stage$$4$$.$_mwunit$);$context$$1$$.clip();$context$$1$$.beginPath();
$context$$1$$.moveTo($wave$$1$$.attrs.$wx$,$wave$$1$$.attrs.$wy$);$context$$1$$.lineTo($wave$$1$$.attrs.$wx$+$width$$16$$,$wave$$1$$.attrs.$wy$);$context$$1$$.quadraticCurveTo(Math.floor($wave$$1$$.attrs.$wx$+0.5*$width$$16$$),Math.floor($wave$$1$$.attrs.$wy$-0.5*$height$$15$$),Math.floor($wave$$1$$.attrs.$wx$+0.75*$width$$16$$),Math.floor($wave$$1$$.attrs.$wy$-$height$$15$$));$context$$1$$.quadraticCurveTo(Math.floor($wave$$1$$.attrs.$wx$+0.5*$width$$16$$),Math.floor($wave$$1$$.attrs.$wy$-0.5*$height$$15$$),
Math.floor($wave$$1$$.attrs.$wx$),Math.floor($wave$$1$$.attrs.$wy$));var $grd$$=$context$$1$$.createRadialGradient($JSCompiler_object_inline_WIDTH_104$$/2,0,$JSCompiler_object_inline_GRADIENT_RADIUS_INNER_110$$,$JSCompiler_object_inline_WIDTH_104$$/2,0,$JSCompiler_object_inline_GRADIENT_RADIUS_OUTER_111$$);$grd$$.addColorStop(1,$wave$$1$$.attrs.$darkColor$);$grd$$.addColorStop(0,$wave$$1$$.attrs.$lightColor$);$context$$1$$.fillStyle=$grd$$;$context$$1$$.fill();$context$$1$$.closePath()};$wave$$1$$.strokeWidth=
4;return $wave$$1$$};Kinetic.$Bubble$=function $Kinetic$$Bubble$$($config$$15$$){$config$$15$$.$glow$={};$config$$15$$.$glow$.x=$config$$15$$.radius/2;$config$$15$$.$glow$.y=-$config$$15$$.radius/2;$config$$15$$.$glow$.radius=$config$$15$$.radius/3;var $bubble$$2$$=new Kinetic.Shape($config$$15$$);$bubble$$2$$.drawFunc=function $$bubble$$2$$$drawFunc$(){var $context$$2$$=this.getContext(),$grd$$1$$=$context$$2$$.createRadialGradient($bubble$$2$$.attrs.x,$bubble$$2$$.attrs.y,$bubble$$2$$.attrs.radius/
2,$bubble$$2$$.attrs.x,$bubble$$2$$.attrs.y,$bubble$$2$$.attrs.radius),$grdGlow$$=$context$$2$$.createRadialGradient($bubble$$2$$.attrs.x+$bubble$$2$$.attrs.$glow$.x,$bubble$$2$$.attrs.y+$bubble$$2$$.attrs.$glow$.y,$bubble$$2$$.attrs.$glow$.radius/5,$bubble$$2$$.attrs.x+$bubble$$2$$.attrs.$glow$.x,$bubble$$2$$.attrs.y+$bubble$$2$$.attrs.$glow$.y,$bubble$$2$$.attrs.$glow$.radius);$context$$2$$.beginPath();$context$$2$$.arc(Math.floor($bubble$$2$$.attrs.x),Math.floor($bubble$$2$$.attrs.y),$bubble$$2$$.attrs.radius,
0,2*Math.PI,$JSCompiler_alias_FALSE$$);$grd$$1$$.addColorStop(0,"rgba(255,255,255,0)");$grd$$1$$.addColorStop(1,"rgba(255,255,255,1)");$context$$2$$.fillStyle=$grd$$1$$;$context$$2$$.fill();$context$$2$$.beginPath();$context$$2$$.arc(Math.floor($bubble$$2$$.attrs.x),Math.floor($bubble$$2$$.attrs.y),$bubble$$2$$.attrs.radius,0,2*Math.PI,$JSCompiler_alias_FALSE$$);$grdGlow$$.addColorStop(0,"white");$grdGlow$$.addColorStop(1,"rgba(255,255,255,0)");$context$$2$$.fillStyle=$grdGlow$$;$context$$2$$.fill();
$context$$2$$.closePath();$context$$2$$.beginPath();$context$$2$$.arc($bubble$$2$$.attrs.x,$bubble$$2$$.attrs.y,0.65*$bubble$$2$$.attrs.radius,Math.PI/2,Math.PI,$JSCompiler_alias_FALSE$$);$context$$2$$.lineWidth=2;$context$$2$$.strokeStyle="rgba(255,255,255,0.5)";$context$$2$$.stroke()};return $bubble$$2$$};Kinetic.$Rod$=function $Kinetic$$Rod$$($config$$16$$){var $line$$=new Kinetic.Shape($config$$16$$),$dx$$5$$=Math.floor(-5/1024*$stage$$4$$.getWidth()),$dy$$6$$=Math.floor(7/768*$stage$$4$$.getHeight()),
$fontSize$$=0.018*$stage$$4$$.getWidth(),$radius$$5$$=15/1024*$stage$$4$$.getWidth();$line$$.drawFunc=function $$line$$$drawFunc$(){$line$$.attrs.$x3$=$line$$.attrs.$x2$+$line$$.attrs.length*Math.sin($line$$.attrs.$angle$);$line$$.attrs.$y3$=$line$$.attrs.$y2$+$line$$.attrs.length*Math.cos($line$$.attrs.$angle$);var $context$$3$$=this.getContext(),$cpx$$1_grd$$2$$=($line$$.attrs.$x2$+$line$$.attrs.$x1$)/2-20*$stage$$4$$.$_mwunit$,$cpy$$1$$=$line$$.attrs.$y2$-10*$stage$$4$$.$_mwunit$,$mpx$$=($line$$.attrs.$x1$+
$cpx$$1_grd$$2$$)/2,$mpy$$=($line$$.attrs.$y1$+$cpy$$1$$)/2-5*$stage$$4$$.$_mwunit$,$bezier$$=$Utils$$.$bezier$({x:$line$$.attrs.$x1$,y:$line$$.attrs.$y1$},{x:$mpx$$,y:$mpy$$},{x:$cpx$$1_grd$$2$$,y:$cpy$$1$$},{x:$line$$.attrs.$x2$,y:$line$$.attrs.$y2$});$context$$3$$.beginPath();$context$$3$$.strokeStyle="brown";$context$$3$$.moveTo($line$$.attrs.$x1$,$line$$.attrs.$y1$);$context$$3$$.lineTo($bezier$$.x,$bezier$$.y);$context$$3$$.lineTo($line$$.attrs.$x2$,$line$$.attrs.$y2$);$context$$3$$.lineWidth=
$line$$.attrs.strokeWidth/2;this.stroke();$context$$3$$.beginPath();$context$$3$$.moveTo($line$$.attrs.$x2$,$line$$.attrs.$y2$);$context$$3$$.strokeStyle="brown";$context$$3$$.lineTo($line$$.attrs.$x3$,$line$$.attrs.$y3$-$radius$$5$$-0.2*$radius$$5$$);this.stroke();$context$$3$$.beginPath();$context$$3$$.strokeStyle="black";$context$$3$$.moveTo($line$$.attrs.$x1$,$line$$.attrs.$y1$);$context$$3$$.bezierCurveTo($mpx$$,$mpy$$,$cpx$$1_grd$$2$$,$cpy$$1$$,$line$$.attrs.$x2$,$line$$.attrs.$y2$);$context$$3$$.lineWidth=
$line$$.attrs.strokeWidth;this.stroke();$context$$3$$.beginPath();$context$$3$$.arc(Math.floor($line$$.attrs.$x3$),Math.floor($line$$.attrs.$y3$)-0.95*$radius$$5$$,0.2*$radius$$5$$,Math.PI,0,$JSCompiler_alias_FALSE$$);$context$$3$$.lineWidth=2;$context$$3$$.strokeStyle="black";this.stroke();$cpx$$1_grd$$2$$=$context$$3$$.createRadialGradient($line$$.attrs.$x3$+0.5*$radius$$5$$,$line$$.attrs.$y3$-0.5*$radius$$5$$,0.1*$radius$$5$$,$line$$.attrs.$x3$,$line$$.attrs.$y3$,$radius$$5$$);$cpx$$1_grd$$2$$.addColorStop(0,
"#ff6666");$cpx$$1_grd$$2$$.addColorStop(0.5,"#ff0000");$cpx$$1_grd$$2$$.addColorStop(1,"#cc0000");$context$$3$$.beginPath();$context$$3$$.arc(Math.floor($line$$.attrs.$x3$),Math.floor($line$$.attrs.$y3$),$radius$$5$$,0,2*Math.PI,$JSCompiler_alias_FALSE$$);$context$$3$$.fillStyle=$cpx$$1_grd$$2$$;$context$$3$$.fill();$context$$3$$.lineWidth=0.5*$line$$.attrs.strokeWidth;$context$$3$$.strokeStyle="#aa0000";$context$$3$$.stroke();$context$$3$$.font=$fontSize$$+"px Arial";$context$$3$$.fillStyle="white";
this.fillText($fishingGame$$.$getTargetNumber$(),Math.floor($line$$.attrs.$x3$+$dx$$5$$),Math.floor($line$$.attrs.$y3$+$dy$$6$$))};return $line$$};this.toString=$JSCompiler_returnArg$$("Fish View");this.on("fishinggame.fishmoved",function($fish$$inline_67_msg$$51$$){var $fish$$inline_67_msg$$51$$=$fish$$inline_67_msg$$51$$.$fish$,$pos$$inline_68$$=$translateFish$$($fish$$inline_67_msg$$51$$);$fishGroups$$[$fish$$inline_67_msg$$51$$].attrs.x=Math.round($pos$$inline_68$$.x);$fishGroups$$[$fish$$inline_67_msg$$51$$].attrs.y=
Math.round($pos$$inline_68$$.y)});this.on("fishinggame.fishturnedleft",function($msg$$52$$){var $scale$$6$$=$fishGroups$$[$msg$$52$$.$fish$].getScale();$fishGroups$$[$msg$$52$$.$fish$].setScale(-1*$scale$$6$$.x,$scale$$6$$.y);$numberGroups$$[$msg$$52$$.$fish$].setScale(-1*$msg$$52$$.$fish$.getScale(),1*$msg$$52$$.$fish$.getScale())});this.on("fishinggame.fishturnedright",function($msg$$53$$){var $scale$$7$$=$fishGroups$$[$msg$$53$$.$fish$].getScale();$fishGroups$$[$msg$$53$$.$fish$].setScale(-1*$scale$$7$$.x,
$scale$$7$$.y);$numberGroups$$[$msg$$53$$.$fish$].setScale(1*$msg$$53$$.$fish$.getScale(),1*$msg$$53$$.$fish$.getScale())});this.on("FishingGame.inactivity",function($msg$$54$$){$Sound$$.play($msg$$54$$.$sound$)});this.on("Game.initiate",function(){$init$$()});$basketGrid_loadingLayer$$=new Kinetic.Layer;$i$$35_text$$21$$=new Kinetic.Text({text:"V\u00e4nta...",fontSize:36,fontFamily:"Arial",textFill:"white",x:$stage$$4$$.attrs.width/2,y:$stage$$4$$.attrs.height/2,align:"center"});$basketGrid_loadingLayer$$.add($i$$35_text$$21$$);
$basketGrid_loadingLayer$$.$_text$=$i$$35_text$$21$$;this.on("Game.roundDone",function(){$Log$$.debug("Tearing down view","view");$fishCountingView$$.$tearDown$();$forget$$()});this.on("Game.start",function(){$Log$$.debug("Start rolling view...","view");$that$$11$$.$game$.$getMode$()==$GameMode$MONKEY_DO$$&&1===$that$$11$$.$game$.$getRound$()?($that$$11$$.$showBig$($Strings$get$$("MONKEYS_TURN").toUpperCase()),$Sound$$.play($Sounds$NOW_MONKEY_SHOW_YOU$$),$that$$11$$.setTimeout(function(){$that$$11$$.$moveToMonkey$($startGame$$1$$);
$switchToMonkey$$()},3E3)):$startGame$$1$$()})}$FishingView$$.prototype=new $GameView$$;function $FishCountingView$$($parent$$2$$,$stage$$5$$,$monkeyWorld$$){function $createNumber$$($numGroup_x$$71$$,$rect$$1_y$$54$$,$num$$5$$){var $numGroup_x$$71$$=new Kinetic.Group({x:$numGroup_x$$71$$,y:$rect$$1_y$$54$$}),$rect$$1_y$$54$$=new Kinetic.Rect({width:100*$stage$$5$$.$_mwunit$,height:100*$stage$$5$$.$_mwunit$}),$number$$3$$=new Kinetic.Text({text:$num$$5$$,fontSize:72*$stage$$5$$.$_mwunit$,fontFamily:"Arial",textFill:"red",textStroke:"black",textStrokeWidth:2*$stage$$5$$.$_mwunit$});$numGroup_x$$71$$.add($rect$$1_y$$54$$);
$numGroup_x$$71$$.add($number$$3$$);$numGroup_x$$71$$.$_num$=$number$$3$$;$numGroup_x$$71$$.$_text$=$number$$3$$;if($monkeyWorld$$.$getMode$()==$GameMode$CHILD_PLAY$$||$monkeyWorld$$.$getMode$()==$GameMode$MONKEY_SEE$$)$numGroup_x$$71$$.on("mousedown touchstart",function(){$fishTank$$.$countFish$($num$$5$$)});$shapeLayer$$1$$.add($numGroup_x$$71$$);$numGroups$$[$num$$5$$]=$numGroup_x$$71$$}var $JSCompiler_object_inline_x_4$$=700*$stage$$5$$.$_mwunit$,$JSCompiler_object_inline_y_5$$=150*$stage$$5$$.$_mwunit$,
$JSCompiler_object_inline_x_6$$=100*$stage$$5$$.$_mwunit$,$JSCompiler_object_inline_y_7$$=150*$stage$$5$$.$_mwunit$,$BASKET_CONFIG$$={x:200*$stage$$5$$.$_mwunit$,y:200*$stage$$5$$.$_mwunit$,width:300*$stage$$5$$.$_mwunit$,height:500*$stage$$5$$.$_mwunit$,stroke:"black",strokeWidth:3*$stage$$5$$.$_mwunit$},$fishTank$$=$JSCompiler_alias_NULL$$,$backgroundLayer$$1$$=new Kinetic.Layer,$shapeLayer$$1$$=new Kinetic.Layer;$stage$$5$$.add($backgroundLayer$$1$$);$stage$$5$$.add($shapeLayer$$1$$);var $numGroups$$=
{};this.$init$=function $this$$init$$($ifishTank$$,$fishGroups$$1$$){$fishTank$$=$ifishTank$$;$Log$$.debug("Setting up FishCountingView","view");var $backgroundRect_basketRect_i$$38$$=new Kinetic.Rect({x:0,y:0,width:$stage$$5$$.attrs.width,height:$stage$$5$$.attrs.height,fill:"white"});$backgroundLayer$$1$$.add($backgroundRect_basketRect_i$$38$$);$backgroundLayer$$1$$.draw();$backgroundRect_basketRect_i$$38$$=new Kinetic.Rect($BASKET_CONFIG$$);$shapeLayer$$1$$.add($backgroundRect_basketRect_i$$38$$);
for(var $basket$$1_choices$$=$fishTank$$.$getBasket$(),$choiceGrid_fishGrid$$=$Utils$$.$gridizer$($BASKET_CONFIG$$.x+75*$stage$$5$$.$_mwunit$,$BASKET_CONFIG$$.y+100*$stage$$5$$.$_mwunit$,135*$stage$$5$$.$_mwunit$,135*$stage$$5$$.$_mwunit$),$backgroundRect_basketRect_i$$38$$=0;$backgroundRect_basketRect_i$$38$$<$basket$$1_choices$$.length;$backgroundRect_basketRect_i$$38$$++)if($basket$$1_choices$$[$backgroundRect_basketRect_i$$38$$]!=$JSCompiler_alias_VOID$$){var $fish$$21$$=$basket$$1_choices$$[$backgroundRect_basketRect_i$$38$$],
$pos$$9$$=$choiceGrid_fishGrid$$.next();$fishGroups$$1$$[$fish$$21$$].attrs.x=$pos$$9$$.x;$fishGroups$$1$$[$fish$$21$$].attrs.y=$pos$$9$$.y;$shapeLayer$$1$$.add($fishGroups$$1$$[$fish$$21$$])}$basket$$1_choices$$=[1,2,3,4];$choiceGrid_fishGrid$$=$Utils$$.$gridizer$($JSCompiler_object_inline_x_4$$,$JSCompiler_object_inline_y_5$$,$JSCompiler_object_inline_x_6$$,$JSCompiler_object_inline_y_7$$);for($backgroundRect_basketRect_i$$38$$=0;$backgroundRect_basketRect_i$$38$$<$basket$$1_choices$$.length;$backgroundRect_basketRect_i$$38$$++)$pos$$9$$=
$choiceGrid_fishGrid$$.next(),$createNumber$$($pos$$9$$.x,$pos$$9$$.y,$basket$$1_choices$$[$backgroundRect_basketRect_i$$38$$]);$shapeLayer$$1$$.draw();$monkeyWorld$$.$getMode$()==$GameMode$CHILD_PLAY$$?$Sound$$.play($Sounds$FISHING_COUNT_FISH$$):($Sound$$.play($Sounds$FISHING_COUNT_TARGET_FISH$$),setTimeout(function(){$Sound$$.play($Sounds$$["NUMBER_"+$fishTank$$.$getTargetNumber$()])},700))};this.$tearDown$=function $this$$tearDown$$(){$stage$$5$$.remove($shapeLayer$$1$$);$stage$$5$$.remove($backgroundLayer$$1$$)};
$parent$$2$$.on("FishingGame.countingResult",function($msg$$59$$){$msg$$59$$.$correct$?($Sound$$.play($Sounds$YAY$$),setTimeout(function(){$fishTank$$.$acceptedCountingResult$()},1500)):$Sound$$.play($Sounds$FISHING_ARE_YOU_SURE$$)});$parent$$2$$.on("FishingGame.counted",function($msg$$60$$){for(var $num$$6$$ in $numGroups$$)$numGroups$$[$num$$6$$].$_text$.attrs.textFill="red";$numGroups$$[$msg$$60$$.$number$].$_text$.attrs.textFill="yellow";setTimeout(function(){$numGroups$$[$msg$$60$$.$number$].$_text$.attrs.textFill=
"red";$shapeLayer$$1$$.draw()},1500);$shapeLayer$$1$$.draw()})};function $LadderView$$($ladder$$1$$){function $addOnMouseActionToTreat$$(){$treat$$.on("mousedown touchstart",function(){$ladder$$1$$.$openTreat$()})}function $shakeTreat$$(){var $ox$$=$treat$$.getX(),$oy$$=$treat$$.getY();$that$$13$$.$getTween$($treat$$.attrs).to({x:$ox$$-5},100).to({x:$ox$$+5},100).to({x:$ox$$-5},100).to({x:$ox$$+5},100).to({x:$ox$$-5},100).to({x:$ox$$+5},100).to({x:$ox$$-5},100).to({x:$ox$$+5},100).to({x:$ox$$-5},100).to({x:$ox$$},100);$that$$13$$.$getTween$($treat$$.attrs).to({y:$oy$$-
5},100).to({y:$oy$$+5},100).to({y:$oy$$-5},100).to({y:$oy$$+5},100).to({y:$oy$$-5},100).to({y:$oy$$+5},100).to({y:$oy$$-5},100).to({y:$oy$$+5},100).to({y:$oy$$-5},100).to({y:$oy$$},100).wait(4E3).call(function(){$shakeTreat$$()})}function $moveWingRec$$($wingDir$$){$wingDir$$===$JSCompiler_alias_VOID$$&&($wingDir$$=1);$that$$13$$.$getTween$($wing$$.attrs.scale).to({y:-1*$wingDir$$},500).call(function(){$fly$$&&$moveWingRec$$(-1*$wingDir$$)})}$GameView$$.call(this);$Log$$.debug("Creating LadderView",
"object");this.$tag$("LadderView");var $that$$13$$=this;console.log("Stage");console.log($that$$13$$);var $LEFT_GROUND_WIDTH$$=0.4*$that$$13$$.getStage().getWidth(),$RIGHT_GROUND_WIDTH$$=0.45*$that$$13$$.getStage().getWidth(),$STICK_ORIGIN$$={x:800,y:650},$allowNumpad$$=$JSCompiler_alias_FALSE$$,$activeButton$$=$JSCompiler_alias_NULL$$,$staticLayer$$=new Kinetic.Layer,$dynamicLayer$$=new Kinetic.Layer;$that$$13$$.getStage().add($staticLayer$$);$that$$13$$.getStage().add($dynamicLayer$$);var $JSCompiler_object_inline_y_14_crown$$=
$that$$13$$.getStage().getHeight()-100-90,$JSCompiler_object_inline_y_18$$=$that$$13$$.getStage().getHeight()-100-80,$dropZoneOffset$$=0,$numpadGroups$$={},$stepGroups$$={},$bird$$=new Kinetic.Group({x:790,y:130}),$birdCirc_birdNest_i$$39$$=new Kinetic.Circle({radius:50,fill:"blue"}),$background_eyeball1_number$$4$$=new Kinetic.Image({image:$images$$.eyeball,width:30,height:30,x:-50,y:-40}),$JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$=new Kinetic.Image({image:$images$$.eyeball,width:30,
height:30,x:-30,y:-40}),$birdNose_poly_rightGround$$=new Kinetic.Shape({drawFunc:function(){var $context$$5$$=this.getContext();$context$$5$$.beginPath();$context$$5$$.moveTo(-48,-20);$context$$5$$.quadraticCurveTo(-68,-30,-78,-10);$context$$5$$.quadraticCurveTo(-48,-10,-48,0);$context$$5$$.closePath();this.fill();this.stroke()},fill:"#FFD700",stroke:"#DAA520",strokeWidth:4}),$wing$$=new Kinetic.Shape({drawFunc:function(){var $context$$6$$=this.getContext();$context$$6$$.beginPath();$context$$6$$.moveTo(0,
0);$context$$6$$.moveTo(30,0);$context$$6$$.quadraticCurveTo(40,80,50,100);$context$$6$$.quadraticCurveTo(40,80,0,0);$context$$6$$.closePath();this.fill()},fill:"#FFD700",stroke:"#DAA520",strokeWidth:4});$wing$$.attrs.scale.y=0.2;$bird$$.add($birdCirc_birdNest_i$$39$$);$bird$$.add($birdNose_poly_rightGround$$);$bird$$.add($background_eyeball1_number$$4$$);$bird$$.add($JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$);$bird$$.add($wing$$);var $birdCirc_birdNest_i$$39$$=new Kinetic.Image({image:$images$$.birdnest,
x:700,y:130,width:180,height:130}),$fly$$=$JSCompiler_alias_TRUE$$,$buttonFill$$={start:{x:-50,y:-50},end:{x:50,y:50},colorStops:[0,"red",1,"yellow"]},$treat$$=$JSCompiler_alias_NULL$$;$that$$13$$.on("Ladder.betterBecauseBigger",function(){$Sound$$.play($Sounds$BETTER_BECAUSE_BIGGER$$)});$that$$13$$.on("Ladder.betterBecauseSmaller",function(){$Sound$$.play($Sounds$BETTER_BECAUSE_SMALLER$$)});$that$$13$$.on("Ladder.hmm",function(){$Sound$$.play($Sounds$MAYBE_THAT_WORKS$$)});$that$$13$$.on("Ladder.agentSuggestSolution",
function(){$that$$13$$.setTimeout(function(){$Sound$$.play($Sounds$LADDER_AGENT_SUGGEST_SOLUTION_1$$);$that$$13$$.setTimeout(function(){$Sound$$.play($Sounds$LADDER_AGENT_SUGGEST_SOLUTION_2$$)},2E3)},2E3)});$that$$13$$.on("Ladder.tooLow",function(){$Sound$$.play($Sounds$LADDER_OOPS_TOO_LOW$$);setTimeout(function(){$Sound$$.play($Sounds$LADDER_TRY_A_BIGGER_NUMBER$$)},2E3)});$that$$13$$.on("Ladder.tooHigh",function(){$Sound$$.play($Sounds$LADDER_OOPS_TOO_HIGH$$);setTimeout(function(){$Sound$$.play($Sounds$LADDER_TRY_A_SMALLER_NUMBER$$)},
2E3)});$that$$13$$.on("Ladder.agentTooLow",function(){$Sound$$.play($Sounds$AGENT_PLAY_TOO_LOW$$)});$that$$13$$.on("Ladder.agentTooHigh",function(){$Sound$$.play($Sounds$AGENT_PLAY_TOO_HIGH$$)});$that$$13$$.on("Ladder.openTreat",function($msg$$69$$){$treat$$.off("mousedown touchstart");$that$$13$$.$removeTween$($treat$$.attrs);$treat$$.$_circle$.setFill("blue");$activeButton$$.$_rect$.attrs.fill=$buttonFill$$;$staticLayer$$.draw();var $balloons$$=new Kinetic.Image({x:$treat$$.getX()+128,y:$treat$$.getY(),
image:$images$$.balloons,width:128,height:128,centerOffset:{x:64,y:64},scale:{x:0.1,y:0.1}});$dynamicLayer$$.add($balloons$$);$that$$13$$.$getTween$($balloons$$.attrs.scale).to({x:1,y:1},500).call(function(){$that$$13$$.$getTween$($balloons$$.attrs).to({y:100},2E3).call($msg$$69$$.callback)});$that$$13$$.$game$.$modeIsAgentSee$()&&$Sound$$.play($Sounds$LADDER_AGENT_SEE_CORRECT$$)});$that$$13$$.on("Ladder.cheer",function($msg$$70$$){$that$$13$$.$showBig$("YAY!");$that$$13$$.setTimeout($msg$$70$$.callback,
2E3)});$that$$13$$.on("Ladder.placeTreat",function($callback$$inline_71_msg$$71$$){$dropZoneOffset$$++;$callback$$inline_71_msg$$71$$=$callback$$inline_71_msg$$71$$.callback;$treat$$=new Kinetic.Group({x:130,y:200});var $treatCircle$$inline_72$$=new Kinetic.Circle({x:100,y:45,radius:35,fill:"red",stroke:"#440000",strokeWidth:4});$treat$$.$_circle$=$treatCircle$$inline_72$$;$treat$$.add($treatCircle$$inline_72$$);$that$$13$$.$getTween$($treat$$.attrs).to({y:$stepGroups$$[$ladder$$1$$.$getTargetNumber$()].getY()},
1E3).call($callback$$inline_71_msg$$71$$);$dynamicLayer$$.add($treat$$);$allowNumpad$$=$JSCompiler_alias_TRUE$$});$that$$13$$.on("Ladder.done",function(){$that$$13$$.$showBig$("YAY!")});var $stick$$=$JSCompiler_alias_NULL$$;$that$$13$$.on("Ladder.picked",function($msg$$73$$){function $pick$$(){$Sound$$.play($Sounds$CLICK$$);$numpadGroups$$[$msg$$73$$.$number$].$_rect$.$_originalFill$=$numpadGroups$$[$msg$$73$$.$number$].$_rect$.attrs.fill;$numpadGroups$$[$msg$$73$$.$number$].$_rect$.setFill("red");
$activeButton$$=$numpadGroups$$[$msg$$73$$.$number$];$staticLayer$$.draw();$msg$$73$$.callback()}if($that$$13$$.$game$.$modeIsAgentDo$()&&!$ladder$$1$$.$agentIsInterrupted$()&&!$ladder$$1$$.$agentIsBeingHelped$()){var $pos$$10$$={x:$numpadGroups$$[$msg$$73$$.$number$].getX(),y:$numpadGroups$$[$msg$$73$$.$number$].getY()};$Sound$$.play($Sounds$IM_GOING_TO_PICK_THIS_ONE$$);$that$$13$$.$getTween$($stick$$.attrs.points[1]).wait(1500).to($pos$$10$$,3E3).wait(3E3).call($pick$$).wait(1E3).to($STICK_ORIGIN$$,
1E3)}else $pick$$()});$that$$13$$.on("Ladder.birdFlyToLadder",function($msg$$74$$){$fly$$=$JSCompiler_alias_TRUE$$;$moveWingRec$$();$that$$13$$.$getTween$($bird$$.attrs).to({x:300,y:$stepGroups$$[$msg$$74$$.$number$].getY()},5500).call($msg$$74$$.callback)});$that$$13$$.on("Ladder.birdFlyToNest",function($msg$$75$$){$that$$13$$.$getTween$($bird$$.attrs).to({x:790,y:130},3E3).call(function(){$activeButton$$!=$JSCompiler_alias_NULL$$&&($activeButton$$.$_rect$.attrs.fill=$buttonFill$$,$staticLayer$$.draw());
$msg$$75$$.$allowNumpad$&&($allowNumpad$$=$JSCompiler_alias_TRUE$$);$fly$$=$JSCompiler_alias_FALSE$$;$that$$13$$.$getTween$($wing$$.attrs.scale).to({y:0.2},500);$msg$$75$$.callback()})});$that$$13$$.on("Ladder.dropTreat",function($msg$$76$$){var $flyTo$$={x:650+75*$dropZoneOffset$$,y:$JSCompiler_object_inline_y_18$$-200},$dropAt$$={x:$flyTo$$.x,y:$flyTo$$.y};$flyTo$$.x+=170;$that$$13$$.$getTween$($bird$$.attrs).to($flyTo$$,2E3).call(function(){$that$$13$$.$getTween$($treat$$.attrs).to({x:650+75*$dropZoneOffset$$,
y:$JSCompiler_object_inline_y_18$$},500).call(function(){$that$$13$$.$game$.$modeIsAgentDo$()||($addOnMouseActionToTreat$$(),$shakeTreat$$())})});$that$$13$$.$getTween$($treat$$.attrs).to($dropAt$$,2E3).call(function(){$msg$$76$$.callback()})});$that$$13$$.on("frame",function(){$dynamicLayer$$.draw()});$that$$13$$.on("Game.stopMiniGame",function(){$Log$$.debug("Tearing down","LadderView");$that$$13$$.getStage().remove($staticLayer$$);$that$$13$$.getStage().remove($dynamicLayer$$)});$that$$13$$.on("Game.roundDone",
this.$tearDown$);$that$$13$$.on("Ladder.interrupt",function(){$that$$13$$.$removeTween$($bird$$.attrs);$that$$13$$.$game$.$modeIsAgentDo$&&($that$$13$$.$removeTween$($stick$$.attrs.points[1]),$that$$13$$.$getTween$($stick$$.attrs.points[1]).to($STICK_ORIGIN$$,1E3).call(function(){$Sound$$.play($Sounds$WHICH_ONE_DO_YOU_THINK_IT_IS$$)}))});$background_eyeball1_number$$4$$=new Kinetic.Rect({fill:{start:{x:0,y:0},end:{x:$that$$13$$.getStage().getWidth(),y:$that$$13$$.getStage().getHeight()},colorStops:[0,
"#87CEFA",0.6,"#87CEFA",1,"#6A5ACD"]},x:0,y:0,width:$that$$13$$.getStage().getWidth(),height:$that$$13$$.getStage().getHeight()});$JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$=new Kinetic.Shape({drawFunc:function(){var $context$$7$$=this.getContext();$context$$7$$.beginPath();$context$$7$$.moveTo(0,$that$$13$$.getStage().getHeight()-100);$context$$7$$.lineTo($LEFT_GROUND_WIDTH$$,$that$$13$$.getStage().getHeight()-100);$context$$7$$.quadraticCurveTo($LEFT_GROUND_WIDTH$$-80,$that$$13$$.getStage().getHeight()-
80,$LEFT_GROUND_WIDTH$$-100,$that$$13$$.getStage().getHeight());$context$$7$$.lineTo(0,$that$$13$$.getStage().getHeight());$context$$7$$.closePath();this.fill();this.stroke()},fill:"#F4A460",stroke:"#A52A2A",strokeWidth:4});$birdNose_poly_rightGround$$=new Kinetic.Shape({drawFunc:function(){var $context$$8$$=this.getContext();$context$$8$$.beginPath();$context$$8$$.moveTo($that$$13$$.getStage().getWidth(),$that$$13$$.getStage().getHeight()-100);$context$$8$$.lineTo($that$$13$$.getStage().getWidth()-
$RIGHT_GROUND_WIDTH$$,$that$$13$$.getStage().getHeight()-100);$context$$8$$.quadraticCurveTo($that$$13$$.getStage().getWidth()-$RIGHT_GROUND_WIDTH$$+80,$that$$13$$.getStage().getHeight()-80,$that$$13$$.getStage().getWidth()-$RIGHT_GROUND_WIDTH$$+100,$that$$13$$.getStage().getHeight());$context$$8$$.lineTo($that$$13$$.getStage().getWidth(),$that$$13$$.getStage().getHeight());$context$$8$$.closePath();this.fill();this.stroke()},fill:"#F4A460",stroke:"#A52A2A",strokeWidth:4});$staticLayer$$.add($background_eyeball1_number$$4$$);
$staticLayer$$.add($JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$);$staticLayer$$.add($birdNose_poly_rightGround$$);$staticLayer$$.add($birdCirc_birdNest_i$$39$$);var $stopButton$$=new Kinetic.Image({image:$images$$["symbol-stop"],x:750,y:700,centerOffset:{x:64,y:64},alpha:0}),$continueButton$$=new Kinetic.Image({image:$images$$["symbol-check"],x:900,y:700,centerOffset:{x:64,y:64},alpha:0});$dynamicLayer$$.add($stopButton$$);$dynamicLayer$$.add($continueButton$$);$that$$13$$.on("Ladder.introduceAgent",
function($msg$$78$$){$Sound$$.play($Sounds$LADDER_LOOKS_FUN$$);$that$$13$$.setTimeout(function(){$Sound$$.play($Sounds$LADDER_SHOW_ME$$);$that$$13$$.setTimeout(function(){$msg$$78$$.callback()},2E3)},2E3)});$that$$13$$.on("Ladder.startAgent",function($msg$$79$$){$Sound$$.play($Sounds$LADDER_MY_TURN$$);$that$$13$$.setTimeout(function(){$msg$$79$$.callback();$that$$13$$.$getTween$($stopButton$$.attrs).to({alpha:1},1E3);$that$$13$$.$getTween$($continueButton$$.attrs).to({alpha:1},1E3)},2E3)});$that$$13$$.on("Ladder.allowInterrupt",
function($msg$$80$$){$stopButton$$.on("mousedown touchstart",function(){$that$$13$$.$getTween$($stopButton$$.attrs).to({rotation:8*Math.PI},1200).to({rotation:0});$Sound$$.play($Sounds$BIKE_HORN$$);$ladder$$1$$.$interruptAgent$()});$continueButton$$.on("mousedown touchstart",function(){$that$$13$$.$getTween$($continueButton$$.attrs).to({rotation:8*Math.PI},1200).to({rotation:0});$Sound$$.play($Sounds$TADA$$)});$msg$$80$$.callback()});$that$$13$$.on("Ladder.helpAgent",function(){$allowNumpad$$=$JSCompiler_alias_TRUE$$});
$that$$13$$.on("Ladder.disallowInterrupt",function(){$stopButton$$.off("mousedown touchstart");$continueButton$$.off("mousedown touchstart")});for($birdCirc_birdNest_i$$39$$=0;$birdCirc_birdNest_i$$39$$<$ladder$$1$$.$getLadder$().length;$birdCirc_birdNest_i$$39$$++){var $background_eyeball1_number$$4$$=$ladder$$1$$.$getLadder$()[$birdCirc_birdNest_i$$39$$],$JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$=$JSCompiler_object_inline_y_14_crown$$,$JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$=
$JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$-90*$birdCirc_birdNest_i$$39$$,$JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$=new Kinetic.Group({x:130,y:$JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$}),$birdNose_poly_rightGround$$=new Kinetic.Polygon({points:[0,0,120,0,110,90,10,90],fill:"#A52A2A",stroke:"#5C4033",strokeWidth:5}),$text$$22$$=new Kinetic.Text({text:$background_eyeball1_number$$4$$,y:45,x:15,height:90,fontSize:56,fontFamily:"Doppio One",textFill:"white",
verticalAlign:"middle",textStroke:"#5C4033",textStrokeWidth:2});$JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$.add($birdNose_poly_rightGround$$);$JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$.add($text$$22$$);$stepGroups$$[$background_eyeball1_number$$4$$]=$JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$;$staticLayer$$.add($JSCompiler_object_inline_y_24_eyeball2_group$$1_leftGround$$)}var $JSCompiler_object_inline_y_26$$=$JSCompiler_object_inline_y_14_crown$$-
90*($ladder$$1$$.$getLadder$().length-1),$JSCompiler_object_inline_y_14_crown$$=new Kinetic.Shape({drawFunc:function(){var $context$$9$$=this.getContext();$context$$9$$.beginPath();$context$$9$$.moveTo(200,$JSCompiler_object_inline_y_26$$);$context$$9$$.bezierCurveTo(150,$JSCompiler_object_inline_y_26$$-60,100,$JSCompiler_object_inline_y_26$$-90,-50,$JSCompiler_object_inline_y_26$$+80);$context$$9$$.bezierCurveTo(130,$JSCompiler_object_inline_y_26$$-20,150,$JSCompiler_object_inline_y_26$$-30,190,
$JSCompiler_object_inline_y_26$$+10);$context$$9$$.bezierCurveTo(150,$JSCompiler_object_inline_y_26$$-60,100,$JSCompiler_object_inline_y_26$$-150,-50,$JSCompiler_object_inline_y_26$$-180);$context$$9$$.bezierCurveTo(130,$JSCompiler_object_inline_y_26$$-150,150,$JSCompiler_object_inline_y_26$$-60,190,$JSCompiler_object_inline_y_26$$-10);$context$$9$$.bezierCurveTo(250,$JSCompiler_object_inline_y_26$$-60,300,$JSCompiler_object_inline_y_26$$-90,450,$JSCompiler_object_inline_y_26$$+80);$context$$9$$.bezierCurveTo(270,
$JSCompiler_object_inline_y_26$$-20,250,$JSCompiler_object_inline_y_26$$-30,210,$JSCompiler_object_inline_y_26$$+10);$context$$9$$.closePath();this.fill();this.stroke()},fill:"#556B2F",stroke:"#006400",strokeWidth:4});$staticLayer$$.add($JSCompiler_object_inline_y_14_crown$$);$dynamicLayer$$.add($bird$$);for(var $numpadGrid$$=$Utils$$.$gridizer$(724,300,120,120),$tellMyTurn$$=$JSCompiler_alias_FALSE$$,$birdCirc_birdNest_i$$39$$=1;6>=$birdCirc_birdNest_i$$39$$;$birdCirc_birdNest_i$$39$$++)(function($i$$40$$){var $group$$2_pos$$11$$=
$numpadGrid$$.next(),$group$$2_pos$$11$$=new Kinetic.Group($group$$2_pos$$11$$),$rect$$2_text$$23$$=new Kinetic.Rect({width:100,height:100,fill:$buttonFill$$,cornerRadius:10,strokeWidth:4,stroke:"orange",centerOffset:{x:50,y:50}});$group$$2_pos$$11$$.add($rect$$2_text$$23$$);$group$$2_pos$$11$$.$_rect$=$rect$$2_text$$23$$;$rect$$2_text$$23$$=new Kinetic.Text({text:$i$$40$$,fontSize:60,fontFamily:"Nunito",textFill:"orange",verticalAlign:"middle",align:"center",textStroke:"red",textStrokeWidth:1,x:50,
y:50,centerOffset:{x:50,y:50}});$group$$2_pos$$11$$.$_text$=$rect$$2_text$$23$$;$group$$2_pos$$11$$.add($rect$$2_text$$23$$);$group$$2_pos$$11$$.on("mousedown touchstart",function(){$allowNumpad$$&&$that$$13$$.$game$.$playerIsGamer$()?($allowNumpad$$=$JSCompiler_alias_FALSE$$,$ladder$$1$$.$pick$($i$$40$$)):$that$$13$$.$game$.$playerIsAgent$()&&!$tellMyTurn$$&&($tellMyTurn$$=$JSCompiler_alias_TRUE$$,$Sound$$.play($Sounds$NO_MY_TURN$$),setTimeout(function(){$Sound$$.play($Sounds$BUT_YOU_CAN_INTERRUPT$$);
setTimeout(function(){$tellMyTurn$$=$JSCompiler_alias_FALSE$$},2E3)},2E3))});$numpadGroups$$[$i$$40$$]=$group$$2_pos$$11$$;$staticLayer$$.add($group$$2_pos$$11$$)})($birdCirc_birdNest_i$$39$$);var $agent$$3$$=new Kinetic.Image({image:$images$$[$that$$13$$.$agentImage$],x:$that$$13$$.getStage().getWidth()+10,y:$that$$13$$.getStage().getHeight()-100-$images$$[$that$$13$$.$agentImage$].height});$dynamicLayer$$.add($agent$$3$$);$that$$13$$.$game$.$modeIsAgentDo$()&&($stick$$=new Kinetic.Line({points:[660,
570,$STICK_ORIGIN$$.x,$STICK_ORIGIN$$.y],stroke:"brown",strokeWidth:2,lineCap:"round"}),$dynamicLayer$$.add($stick$$));if($that$$13$$.$game$.$modeIsChild$()){var $peekAgent$$=function $$peekAgent$$$(){$that$$13$$.setTimeout(function(){$that$$13$$.$getTween$($agent$$3$$.attrs).to({x:$that$$13$$.getStage().getWidth()-100,rotation:-Math.PI/5},1E3).wait(2E3).to({x:$that$$13$$.getStage().getWidth()+10},1E3).call(function(){$peekAgent$$()})},2E3)};$peekAgent$$()}else($that$$13$$.$game$.$modeIsAgentSee$()||
$that$$13$$.$game$.$modeIsAgentDo$())&&$agent$$3$$.setX($that$$13$$.getStage().getWidth()-500);$staticLayer$$.draw()}$inherit$$($LadderView$$,$GameView$$);function $GameView$$(){function $moveDone$$($done$$10$$){$moved$$++;3==$moved$$&&($done$$10$$(),$staticLayer$$1$$.draw(),$that$$14$$.$forget$("GameView"))}function $moveToMonkey$$($done$$9$$){$Sound$$.play($Sounds$MAGIC_CHIMES$$);$that$$14$$.on("frame",function(){$staticLayer$$1$$.draw()},"GameView");$that$$14$$.$getTween$($monkey$$5$$.attrs).to($MONKEY_CONFIG_ACTIVE$$,2E3).call(function(){$moveDone$$($done$$9$$)});$that$$14$$.$getTween$($monkeyFrame$$.attrs).to($MONKEY_FRAME_CONFIG_ACTIVE$$,2E3).call(function(){$moveDone$$($done$$9$$)});
$that$$14$$.$getTween$($gamerFrame$$.attrs).to($GAMER_FRAME_CONFIG_INACTIVE$$,2E3).call(function(){$moveDone$$($done$$9$$)})}$ViewModule$$.call(this);var $that$$14$$=this,$staticLayer$$1$$=new Kinetic.Layer,$mainFrame$$=$JSCompiler_alias_NULL$$,$monkeyFrame$$=$JSCompiler_alias_NULL$$,$gamerFrame$$=$JSCompiler_alias_NULL$$,$avatar$$=$JSCompiler_alias_NULL$$,$monkey$$5$$=$JSCompiler_alias_NULL$$,$MONKEY_FRAME_CONFIG_INACTIVE$$=$JSCompiler_alias_NULL$$,$GAMER_FRAME_CONFIG_ACTIVE$$=$JSCompiler_alias_NULL$$,
$GAMER_FRAME_CONFIG_INACTIVE$$=$JSCompiler_alias_NULL$$,$MONKEY_FRAME_CONFIG_ACTIVE$$=$JSCompiler_alias_NULL$$,$MONKEY_CONFIG_ACTIVE$$=$JSCompiler_alias_NULL$$,$MONKEY_CONFIG_INACTIVE$$=$JSCompiler_alias_NULL$$,$moved$$=0;this.$setStaticLayer$=function $this$$setStaticLayer$$($layer$$7$$){$staticLayer$$1$$=$layer$$7$$};this.$moveToMonkey$=function $this$$moveToMonkey$$($done$$11$$){$moveToMonkey$$($done$$11$$)};this.$basicInit$=function $this$$basicInit$$(){$moved$$=0;var $angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$=
$staticLayer$$1$$.getStage();$MONKEY_FRAME_CONFIG_INACTIVE$$={x:20,y:20,width:220,height:730,fill:"white",alpha:0.2};$GAMER_FRAME_CONFIG_ACTIVE$$={x:260,y:20,width:740,height:730,fill:"white",alpha:0.8};$GAMER_FRAME_CONFIG_INACTIVE$$={y:$GAMER_FRAME_CONFIG_ACTIVE$$.y,alpha:0.2,x:$GAMER_FRAME_CONFIG_ACTIVE$$.x+520,width:220,height:$GAMER_FRAME_CONFIG_ACTIVE$$.height,fill:$GAMER_FRAME_CONFIG_ACTIVE$$.fill};$MONKEY_FRAME_CONFIG_ACTIVE$$={alpha:0.8,width:740,y:$MONKEY_FRAME_CONFIG_INACTIVE$$.y,x:$MONKEY_FRAME_CONFIG_INACTIVE$$.x,
height:$MONKEY_FRAME_CONFIG_INACTIVE$$.height,fill:$MONKEY_FRAME_CONFIG_INACTIVE$$.fill};$MONKEY_CONFIG_ACTIVE$$={x:740+$MONKEY_FRAME_CONFIG_INACTIVE$$.x-175,y:540};$MONKEY_CONFIG_INACTIVE$$={x:60,y:540};$Utils$$.$scaleShape$($MONKEY_FRAME_CONFIG_INACTIVE$$,$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$);$Utils$$.$scaleShape$($GAMER_FRAME_CONFIG_ACTIVE$$,$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$);
$Utils$$.$scaleShape$($GAMER_FRAME_CONFIG_INACTIVE$$,$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$);$Utils$$.$scaleShape$($MONKEY_FRAME_CONFIG_ACTIVE$$,$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$);$Utils$$.$scaleShape$($MONKEY_CONFIG_ACTIVE$$,$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$);
$Utils$$.$scaleShape$($MONKEY_CONFIG_INACTIVE$$,$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$);$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$=$staticLayer$$1$$.getStage();$mainFrame$$=new Kinetic.Rect({x:0,y:0,width:$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.getWidth(),height:$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.getHeight()});
$staticLayer$$1$$.add($mainFrame$$);if($that$$14$$.$game$.$getMode$()==$GameMode$MONKEY_SEE$$||$that$$14$$.$game$.$getMode$()==$GameMode$MONKEY_DO$$){var $angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$=$staticLayer$$1$$.getStage(),$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$=$that$$14$$.$game$.$getMode$(),$monkeyConfig$$inline_94$$=$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$==$GameMode$MONKEY_DO$$&&
1<$that$$14$$.$game$.$getRound$()?$MONKEY_CONFIG_ACTIVE$$:$MONKEY_CONFIG_INACTIVE$$;$monkeyFrame$$=new Kinetic.Rect($angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$==$GameMode$MONKEY_DO$$&&1<$that$$14$$.$game$.$getRound$()?$MONKEY_FRAME_CONFIG_ACTIVE$$:$MONKEY_FRAME_CONFIG_INACTIVE$$);$monkey$$5$$=new Kinetic.Image({x:$monkeyConfig$$inline_94$$.x,y:$monkeyConfig$$inline_94$$.y,scale:{x:1*$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$,
y:1*$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$},width:$images$$.monkey.width,height:$images$$.monkey.height,image:$images$$.monkey});$staticLayer$$1$$.add($monkeyFrame$$);$staticLayer$$1$$.add($monkey$$5$$)}$that$$14$$.$game$.$getMode$()==$GameMode$GUARDIAN_ANGEL$$&&($angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$=$staticLayer$$1$$.getStage(),$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$=
$MONKEY_FRAME_CONFIG_ACTIVE$$,$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$=new Kinetic.Rect({x:$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$.x,y:$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$.y,width:$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$.width,height:$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$.height,fill:$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$.fill,
alpha:$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$.alpha}),$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$=new Kinetic.Image($Utils$$.$scaleShape$({x:500,y:450,image:$images$$.rafiki,width:200,height:280},$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$)),$staticLayer$$1$$.add($angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$),
$staticLayer$$1$$.add($angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$));$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$=$staticLayer$$1$$.getStage();$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$=$that$$14$$.$game$.$getMode$();$gamerFrame$$=new Kinetic.Rect($angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$==$GameMode$MONKEY_DO$$&&
1<$that$$14$$.$game$.$getRound$()||$angelFrame$$inline_98_config$$inline_97_mode$$inline_102_mode$$inline_93$$==$GameMode$GUARDIAN_ANGEL$$?$GAMER_FRAME_CONFIG_INACTIVE$$:$GAMER_FRAME_CONFIG_ACTIVE$$);$avatar$$=new Kinetic.Image({x:$GAMER_FRAME_CONFIG_ACTIVE$$.x+$GAMER_FRAME_CONFIG_ACTIVE$$.width-210*$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$,y:$GAMER_FRAME_CONFIG_ACTIVE$$.y+$GAMER_FRAME_CONFIG_ACTIVE$$.height-220*$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$,
scale:{x:0.8*$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$,y:0.8*$angel$$inline_99_stage$$inline_101_stage$$inline_88_stage$$inline_90_stage$$inline_92_stage$$inline_96$$.$_mwunit$},width:$images$$.avatar.width,height:$images$$.avatar.height,image:$images$$.avatar});$staticLayer$$1$$.add($gamerFrame$$);$staticLayer$$1$$.add($avatar$$)}}$inherit$$($GameView$$,$ViewModule$$);SoundJS.$testAudioStall$=$JSCompiler_emptyFn$$();var $game$$=$JSCompiler_alias_NULL$$;window.egame=$JSCompiler_alias_NULL$$;window.onload=function $window$onload$(){$game$$=new $Game$$;window.egame=$game$$};WebFontConfig={google:{families:["Nunito::latin","Doppio+One::latin"]}};var $wf$$inline_78$$=document.createElement("script");$wf$$inline_78$$.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js";$wf$$inline_78$$.type="text/javascript";
$wf$$inline_78$$.async="true";var $s$$inline_79$$=document.getElementsByTagName("script")[0];$s$$inline_79$$.parentNode.insertBefore($wf$$inline_78$$,$s$$inline_79$$);
function $Game$$(){var $gameState$$2$$=new $GameState$$,$settingsPanel$$=new $SettingsPanel$$;$Settings$$.$setJSON$();this.applySettings=function $this$applySettings$(){$settingsPanel$$.apply();$.cookie("monkeyWorldSettings",JSON.stringify($Settings$$.$json$()))};this.hideSettings=function $this$hideSettings$(){$settingsPanel$$.hide()};this.showSettings=function $this$showSettings$(){$settingsPanel$$.show()};var $stage$$11$$=new Kinetic.Stage({container:"container",width:1024,height:768});console.log("defined stage");
$stage$$11$$.$_mwunit$=$stage$$11$$.getWidth()/1024;var $backgroundLayer$$2$$=new Kinetic.Layer,$gameLayer$$=new Kinetic.Layer,$overlayLayer$$=new Kinetic.Layer;$stage$$11$$.add($backgroundLayer$$2$$);$stage$$11$$.add($gameLayer$$);$stage$$11$$.add($overlayLayer$$);$stage$$11$$.$_backgroundLayer$=$backgroundLayer$$2$$;$stage$$11$$.$_gameLayer$=$gameLayer$$;$stage$$11$$.$_overlayLayer$=$overlayLayer$$;$stage$$11$$.$_subtitleLayer$=$gameLayer$$;$stage$$11$$.$getDynamicLayer$=function $$stage$$11$$$$getDynamicLayer$$(){return this.$_gameLayer$};
$stage$$11$$.$getBackgroundLayer$=function $$stage$$11$$$$getBackgroundLayer$$(){return this.$_backgroundLayer$};$stage$$11$$.$getOverlayLayer$=function $$stage$$11$$$$getOverlayLayer$$(){return this.$_overlayLayer$};$stage$$11$$.$_drawOverlayLayer$=$JSCompiler_alias_FALSE$$;$stage$$11$$.$_overlayLayerDrawn$=0;$stage$$11$$.$_backgroundLayerDrawn$=0;$stage$$11$$.$pleaseDrawOverlayLayer$=function $$stage$$11$$$$pleaseDrawOverlayLayer$$(){$stage$$11$$.$_drawOverlayLayer$=$JSCompiler_alias_TRUE$$};var $settingsButton$$=
$JSCompiler_alias_NULL$$,$restartButton$$=$JSCompiler_alias_NULL$$,$that$$15$$=this;(function setUpButtons(){$settingsButton$$!=$JSCompiler_alias_NULL$$&&$gameLayer$$.remove($settingsButton$$);$restartButton$$!=$JSCompiler_alias_NULL$$&&$gameLayer$$.remove($restartButton$$);$gameLayer$$.add($settingsButton$$=new Kinetic.$Button$({x:$stage$$11$$.getWidth()-100*$stage$$11$$.$_mwunit$,y:3,width:100*$stage$$11$$.$_mwunit$,height:20*$stage$$11$$.$_mwunit$,fontSize:11*$stage$$11$$.$_mwunit$,text:$Strings$get$$("SETTINGS"),
callback:function(){$that$$15$$.showSettings()}}));$gameLayer$$.add($restartButton$$=new Kinetic.$Button$({x:$stage$$11$$.getWidth()-203*$stage$$11$$.$_mwunit$,y:3,width:100*$stage$$11$$.$_mwunit$,height:20*$stage$$11$$.$_mwunit$,fontSize:11*$stage$$11$$.$_mwunit$,text:$Strings$get$$("RESTART"),callback:function(){$that$$15$$.$restart$()}}))})();$Sound$$.$setStage$($stage$$11$$);var $evm$$2$$=new $GameEventManager$$;$MW$GlobalObject$$.prototype.$evm$=$evm$$2$$;$ViewModule$$.prototype.$stage$=$stage$$11$$;
$LadderView$$.prototype.$stage$=$stage$$11$$;$LadderView$$.prototype.$evm$=$evm$$2$$;console.log("set stage");var $monkeyWorld$$1$$=new $MW$Game$$($JSCompiler_alias_TRUE$$,$Ladder$$);$MW$GlobalObject$$.prototype.$game$=$monkeyWorld$$1$$;$LadderView$$.prototype.$game$=$monkeyWorld$$1$$;new $MonkeyWorldView$$($stage$$11$$,$gameState$$2$$);var $modelModule$$=new $NoModule$$,$fps$$=function(){var $lastFps$$=0,$fpsText$$=new Kinetic.Text({text:"",fontFamily:"Arial",textFill:"black",textStroke:"white",
textStrokeWidth:1,fontSize:18,x:0,y:0});$gameLayer$$.add($fpsText$$);return{$showFps$:function($frame$$6$$){if(0==$lastFps$$||10<$frame$$6$$.time-$lastFps$$)$fpsText$$.setText("FPS: "+Math.round(1E3/$frame$$6$$.timeDiff)),$lastFps$$=$frame$$6$$.time}}}();$stage$$11$$.onFrame(function($frame$$7$$){$fps$$.$showFps$($frame$$7$$);$evm$$2$$.$tell$("frame",{frame:$frame$$7$$});$modelModule$$.onFrame($frame$$7$$);$gameLayer$$.draw();$stage$$11$$.$_drawOverlayLayer$&&($overlayLayer$$.draw(),$stage$$11$$.$_drawOverlayLayer$=
$JSCompiler_alias_FALSE$$);Tween.tick($frame$$7$$.timeDiff,$JSCompiler_alias_FALSE$$)});$stage$$11$$.start();$evm$$2$$.on("Game.miniGameListenersInitiated",function(){$gameLayer$$.moveToTop();$overlayLayer$$.moveToTop()},"game");$evm$$2$$.$tell$("Game.loadingSounds");var $sound_interval$$=$JSCompiler_alias_NULL$$,$image_interval$$=$JSCompiler_alias_NULL$$;$Log$$.debug("Loading sounds...","Game");var $preload$$=new PreloadJS($JSCompiler_alias_FALSE$$);$preload$$.onComplete=function $$preload$$$onComplete$(){clearInterval($sound_interval$$);
$image_interval$$=setInterval(function(){$evm$$2$$.$tell$("Game.updateImageLoading",{progress:$_img_progress$$})},50);$Log$$.debug("Sounds loaded.","game");$evm$$2$$.$tell$("Game.loadingImages");$loadImages$$(function(){$evm$$2$$.$tell$("Game.loadingDone");clearInterval($image_interval$$);$monkeyWorld$$1$$.start()})};$preload$$.installPlugin(SoundJS);$sound_interval$$=setInterval(function(){$evm$$2$$.$tell$("Game.updateSoundLoading",{progress:$preload$$.progress})},50);$preload$$.loadManifest($soundSources$$);
$evm$$2$$.on("Game.setMode",function($msg$$83$$){$gameState$$2$$.$setMode$($msg$$83$$.mode)},"game");$evm$$2$$.on("Game.nextRound",$JSCompiler_emptyFn$$(),"game");this.$restart$=function $this$$restart$$(){$monkeyWorld$$1$$.$restart$()}};